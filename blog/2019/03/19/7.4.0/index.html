<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>7.4.0 Released: core-js 3, static private methods and partial application · Babel</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://babel.qubitpi.org/blog/2019/03/19/7.4.0><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docusaurus_tag content=default><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docsearch:docusaurus_tag content=default><meta data-rh=true property=og:title content="7.4.0 Released: core-js 3, static private methods and partial application · Babel"><meta data-rh=true name=description content="Today we are releasing Babel 7.4.0!"><meta data-rh=true property=og:description content="Today we are releasing Babel 7.4.0!"><meta data-rh=true property=og:type content=article><meta data-rh=true property=article:published_time content=2019-03-19T21:30:00.000Z><meta data-rh=true property=article:author content=https://twitter.com/NicoloRibaudo><link data-rh=true rel=icon href=/img/favicon.png><link data-rh=true rel=canonical href=https://babel.qubitpi.org/blog/2019/03/19/7.4.0><link data-rh=true rel=alternate href=https://babel.qubitpi.org/blog/2019/03/19/7.4.0 hreflang=en><link data-rh=true rel=alternate href=https://babel.qubitpi.org/blog/2019/03/19/7.4.0 hreflang=x-default><link data-rh=true rel=preconnect href=https://M7KGJDK6WF-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://babel.qubitpi.org/blog/2019/03/19/7.4.0","@type":"BlogPosting","author":{"@type":"Person","name":"Nicolò Ribaudo","url":"https://twitter.com/NicoloRibaudo"},"datePublished":"2019-03-19T21:30:00.000Z","description":"Today we are releasing Babel 7.4.0!","headline":"7.4.0 Released: core-js 3, static private methods and partial application","isPartOf":{"@id":"https://babel.qubitpi.org/blog","@type":"Blog","name":"Blog"},"keywords":[],"mainEntityOfPage":"https://babel.qubitpi.org/blog/2019/03/19/7.4.0","name":"7.4.0 Released: core-js 3, static private methods and partial application","url":"https://babel.qubitpi.org/blog/2019/03/19/7.4.0"}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Babel RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Babel Atom Feed"><link rel=search type=application/opensearchdescription+xml title=Babel href=/opensearch.xml><script src=https://unpkg.com/@babel/standalone@^7.0.0/babel.min.js defer></script><script src=/js/components/mini-repl.js type=module></script><script src=/js/components/assumption-repl.js type=module></script><link rel=stylesheet href=/assets/css/styles.2a02e20b.css><script src=/assets/js/runtime~main.e3160b34.js defer></script><script src=/assets/js/main.e65e26e0.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/babel.svg><link rel=preload as=image href=https://d33wubrfki0l68.cloudfront.net/7a197cfe44548cc1a3f581152af70a3051e11671/78df8/img/babel.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_oPtH href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/babel.svg alt="Babel logo" class="themedComponent_siVc themedComponent--light_hHel"><img src=/img/babel.svg alt="Babel logo" class="themedComponent_siVc themedComponent--dark_yETr"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/docs/>Docs</a><a class="navbar__item navbar__link" href=/setup>Setup</a><a class="navbar__item navbar__link" href=/repl>Try it out</a><a class="navbar__item navbar__link" href=/videos/>Videos</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/blog>Blog</a><div class=navbarSearchContainer_bzqh><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div><a href=https://opencollective.com/babel target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPrP><use href=#theme-svg-external-link /></svg></a><a class="navbar__item navbar__link" href=/team>Team</a><a href=https://github.com/babel/babel target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPrP><use href=#theme-svg-external-link /></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_k9hJ lightToggleIcon_lgto"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_k9hJ darkToggleIcon_U96C"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_k9hJ systemToggleIcon_E5c0"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_MB5r"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_CLW8 thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_DQfJ margin-bottom--md">All Blog Posts</div><div role=group><h3 class=yearGroupHeading_jjLT>2025</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2025/06/30/7.28.0>7.28.0 Released: `babel.config.ts`, explicit resource management, and discard binding proposal</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2025/05/30/babel-8-beta>Announcing Babel 8 Beta</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2025/03/24/7.27.0>7.27.0 Released: better ecosystem alignment</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2024</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2024/10/25/7.26.0>7.26.0 Released: stage 4 features enabled by default, and a new experimental code printer</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2024/07/26/7.25.0>7.25.0 Released: Safari bugfixes and duplicated named capturing groups</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2024/02/28/7.24.0>7.24.0 Released: Decorator updates and JSON modules imports</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2023</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2023/10/16/cve-2023-45133>CVE-2023-45133: Finding an Arbitrary Code Execution Vulnerability In Babel</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2023/09/25/7.23.0>7.23.0 Released: Decorator Metadata and many new `import` features!</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2023/05/26/7.22.0>7.22.0 Released: Explicit Resource Management support and Import Attributes parsing</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2023/02/20/7.21.0>7.21.0 Released: Inline RegExp modifiers, TypeScript 5.0, and Decorators updates</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2022</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2022/10/27/7.20.0>7.20.0 Released: Deno target and TypeScript 4.9</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2022/09/05/7.19.0>7.19.0 Released: Stage 3 decorators and more RegExp features!</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2022/05/19/7.18.0>7.18.0 Released: Destructuring private elements and TypeScript 4.7</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2022/02/02/7.17.0>7.17.0 Released: RegExp 'v' mode and ... 🥁 decorators!</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2021</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/10/29/7.16.0>7.16.0 Released: ESLint 8 and TypeScript 4.5</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/07/26/7.15.0>7.15.0 Released: Hack-style pipelines, TypeScript const enums and Rhino target support</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/05/10/funding-update>Babel is used by millions, so why are we running out of money?</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/04/29/7.14.0>7.14.0 Released: New class features enabled by default, TypeScript 4.3, and better CommonJS interop</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/02/22/7.13.0>7.13.0 Released: Records and Tuples, granular compiler assumptions, and top-level targets</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2020</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/10/15/7.12.0>7.12.0 Released: TypeScript 4.1, strings as import/export names, and class static blocks</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/07/30/7.11.0>7.11.0 Released: ECMAScript 2021 support in preset-env, TypeScript 4.0 support, printing config and the future of `babel-eslint`</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/07/13/the-state-of-babel-eslint>The State of babel-eslint</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/05/25/7.10.0>7.10.0 Released: Class Fields in preset-env, '#private in' checks and better React tree-shaking</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/03/16/7.9.0>7.9.0 Released: Smaller preset-env output, Typescript 3.8 support and a new JSX transform</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/01/11/7.8.0>7.8.0 Released: ECMAScript 2020, .mjs configuration files and @babel/cli improvements</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2019</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/11/08/babels-funding-plans>Babel's Funding Plans</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/11/05/7.7.0>7.7.0 Released: Error recovery and TypeScript 3.7</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/09/05/7.6.0>7.6.0 Released: Private static accessors and V8 intrinsic syntax</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/07/03/7.5.0>7.5.0 Released: dynamic import and F# pipelines</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/07/02/the-babel-podcast>The Babel Podcast</a><li class=sidebarItem__RMN><a aria-current=page class="sidebarItemLink_Ony9 sidebarItemLinkActive_MJ75" href=/blog/2019/03/19/7.4.0>7.4.0 Released: core-js 3, static private methods and partial application</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/01/21/7.3.0>7.3.0 Released: Named capturing groups, private instance accessors and smart pipelines</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2018</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/12/03/7.2.0>7.2.0 Released: Private Instance Methods</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/09/17/7.1.0>7.1.0 Released: Decorators, Private Static Fields</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/09/17/decorators>TC39 Standards Track Decorators in Babel</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/08/27/7.0.0>Babel 7 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/07/27/removing-babels-stage-presets>Removing Babel's Stage Presets</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/07/19/whats-happening-with-the-pipeline-proposal>What's Happening With the Pipeline (|>) Proposal?</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/07/16/announcing-babels-new-partnership-with-trivago>Announcing Babel's New Partnership with trivago!</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/06/26/on-consuming-and-publishing-es2015+-packages>On Consuming (and Publishing) ES2015+ Packages</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2017</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/12/27/nearing-the-7.0-release>Nearing the 7.0 Release</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/10/05/babel-turns-three>Babel Turns Three</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/09/12/planning-for-7.0>Planning for 7.0</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/09/11/zero-config-with-babel-macros>Zero-config code transformation with babel-plugin-macros</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/contributing-to-babel-three-lessons-to-remember>Contributing to Babel: Three Lessons to Remember</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/personal-experiences-at-babel-1-a-pr-with-unusually-high-number-of-reviews>Personal Experiences at Babel #1 — A PR with Unusually High Number of Reviews</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/08/09/babel-and-summer-of-code>Babel and Summer of Code 2017</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/03/01/upgrade-to-babel-7-for-tool-authors>Upgrade to Babel 7 for Tool Authors (WIP)</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/03/01/upgrade-to-babel-7>Upgrade to Babel 7 (moved)</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/02/13/6.23.0>6.23.0 Released</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2016</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/12/07/the-state-of-babel>The State of Babel</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/11/16/6.19.0>6.19.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/10/24/6.18.0>6.18.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/09/28/6.16.0>6.16.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/08/26/babili>Babili (babel-minify)</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/08/24/6.14.0>6.14.0 Released</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2015</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/11/03/babel-doctor>Babel Doctor</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/10/31/setting-up-babel-6>Setting up Babel 6</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/10/29/6.0.0>6.0.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/07/07/react-on-es6-plus>React on ES6+</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/05/14/function-bind>Function Bind Syntax</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/03/31/5.0.0>5.0.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/02/23/babel-loves-react>Babel &lt;3 React</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/02/15/not-born-to-die>Not Born to Die</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/01/27/2to3>2to3</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/01/12/6to5-esnext>6to5 + esnext</a></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class=title_Kdtz>7.4.0 Released: core-js 3, static private methods and partial application</h1><div class="container_iZB2 margin-vert--md"><time datetime=2019-03-19T21:30:00.000Z>March 19, 2019</time> · <!-- -->13 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_v1VX"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_W4s3"><div class=avatar__name><a href=https://twitter.com/NicoloRibaudo target=_blank rel="noopener noreferrer"><span class=authorName_Tejg>Nicolò Ribaudo</span></a></div><div class=authorSocials_VbIH></div></div></div></div></div></header><div id=__blog-post-container class=markdown><p>Today we are releasing Babel 7.4.0!</p>
<p>This release includes support for <a href=https://devblogs.microsoft.com/typescript/announcing-typescript-3-4-rc target=_blank rel="noopener noreferrer">TypeScript 3.4</a>, the proposal for partial application in function calls, and static private methods.</p>
<p>We added support for meaningful parenthesized expressions in <code>@babel/parser</code>, and also made it more spec compliant than <em>ever</em>!</p>
<p>Last but not least, both <code>@babel/preset-env</code> and <code>@babel/transform-runtime</code> now support <code>core-js@3</code>, and <code>@babel/template</code> has some sweet new syntax!</p>
<p>You can read the whole changelog <a href=https://github.com/babel/babel/releases/tag/v7.4.0 target=_blank rel="noopener noreferrer">on GitHub</a>.</p>
<hr>
<p>Special thanks to all the new Babel contributors 😊. Since we started generating release changelogs using GitHub actions we hadn't had the chance to thank them in each release, but since Babel 7.3.3 they have been a lot of people!</p>
<ul>
<li>Babel 7.3.3: <a href=https://github.com/Alec321 target=_blank rel="noopener noreferrer">@Alec321</a>, <a href=https://github.com/mhcgrq target=_blank rel="noopener noreferrer">@mhcgrq</a>, <a href=https://github.com/ilyalesik target=_blank rel="noopener noreferrer">@ilyalesik</a>, <a href=https://github.com/yifei-fu target=_blank rel="noopener noreferrer">@yifei-fu</a></li>
<li>Babel 7.3.4: <a href=https://github.com/elevatebart target=_blank rel="noopener noreferrer">@elevatebart</a>, <a href=https://github.com/ian-craig target=_blank rel="noopener noreferrer">@ian</a>, <a href=https://github.com/imjacobclark target=_blank rel="noopener noreferrer">@imjacobclark</a>, <a href=https://github.com/irohitb target=_blank rel="noopener noreferrer">@irohitb</a></li>
<li>Babel 7.4.0: <a href=https://github.com/AmirS target=_blank rel="noopener noreferrer">@AmirS</a>, <a href=https://github.com/agoldis target=_blank rel="noopener noreferrer">@agoldis</a>, <a href=https://github.com/byara target=_blank rel="noopener noreferrer">@byara</a>, <a href=https://github.com/echenley target=_blank rel="noopener noreferrer">@echenley</a>, <a href=https://github.com/tanohzana target=_blank rel="noopener noreferrer">@tanohzana</a>, <a href=https://github.com/matt-tingen target=_blank rel="noopener noreferrer">@matt</a>, <a href=https://github.com/penielse target=_blank rel="noopener noreferrer">@penielse</a>, <a href=https://github.com/pnowak target=_blank rel="noopener noreferrer">@pnowak</a></li>
</ul>
<p>Many features in this release have been developed in collaboration with our sponsors. <a href=https://github.com/bloomberg target=_blank rel="noopener noreferrer"><strong>Bloomberg</strong></a> has contributed support for a new kind of private element in every release since 7.0 (<a href=https://babeljs.io/blog/2018/09/17/7.1.0#private-static-fields-stage-3 target=_blank rel="noopener noreferrer">7.1</a>, <a href=https://babeljs.io/blog/2018/12/03/7.2.0#private-instance-methods-8654-https-githubcom-babel-babel-pull-8654 target=_blank rel="noopener noreferrer">7.2</a>, <a href=https://babeljs.io/blog/2019/01/21/7.3.0#private-instance-accessors-getters-and-setters-9101-https-githubcom-babel-babel-pull-9101 target=_blank rel="noopener noreferrer">7.3</a>), and they've now implemented static private methods! This leaves only static private getters and setters remaining.</p>
<p>Similarly, <a href=https://github.com/trivago target=_blank rel="noopener noreferrer"><strong>Trivago</strong></a> (a Base Support Sponsor on <a href=https://opencollective.com/babel target=_blank rel="noopener noreferrer">OpenCollective</a>) took over the implementation of the partial application plugin.</p>
<p>Over the last month, we have been experimenting with working more directly with companies on various features/optimizations that would benefit the community: <a href=https://github.com/runkitdev target=_blank rel="noopener noreferrer"><strong>RunKit</strong></a> has been sponsoring <a href=https://github.com/nicolo-ribaudo target=_blank rel="noopener noreferrer">Nicolò</a> to implement placeholder support in <code>@babel/template</code>.</p>
<p>When managing a big open source project, not everything is code: we need to manage servers, continuous integration, social media accounts and... a lot of passwords! We really appreciate <a href=https://github.com/1Password/ target=_blank rel="noopener noreferrer"><strong>1Password</strong></a> for accepting us into their <a href=https://github.com/1Password/1password-teams-open-source target=_blank rel="noopener noreferrer">open source support program</a> and providing us a free 1Password Teams account!</p>
<p>If you or your company want to support Babel and the evolution of JavaScript, but aren't sure how, you can donate to us on <a href=https://opencollective.com/babel target=_blank rel="noopener noreferrer">OpenCollective</a> and, better yet, work with us on the implementation of <a href=https://github.com/babel/proposals target=_blank rel="noopener noreferrer">new ECMAScript proposals</a> directly! As a volunteer-driven project, we rely on the community's support to both fund our efforts in supporting the wide range of JavaScript users and taking ownership of the code. Reach out to Henry at <a href=mailto:henry@babeljs.io target=_blank rel="noopener noreferrer">henry@babeljs.io</a> if you'd like to talk more!</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=core-js-3-7646><code>core-js</code> 3 (<a href=https://github.com/babel/babel/pull/7646 target=_blank rel="noopener noreferrer">#7646</a>)<a href=#core-js-3-7646 class=hash-link aria-label="Direct link to core-js-3-7646" title="Direct link to core-js-3-7646">​</a></h2>
<p>We've received lots of kudos for our work on <code>@babel/preset-env</code>, but much of that should really go to the awesome work done by <a href=https://github.com/zloirock target=_blank rel="noopener noreferrer">Denis</a>. He maintains <code>core-js</code> which provides all the polyfills loaded by <code>@babel/polyfill</code>, <code>@babel/runtime</code> and <code>@babel/preset-env</code>.</p>
<p><code>core-js@3</code> was just released, and includes a lot of new features: you can read about them at <a href=https://github.com/zloirock/core-js/blob/master/docs/2019-03-19-core-js-3-babel-and-a-look-into-the-future.md target=_blank rel="noopener noreferrer">"core-js@3, babel and a look into the future"</a>. Other than all the new proposals, it makes it possible to polyfill transform <strong>instance</strong> methods using <code>@babel/plugin-transform-runtime</code> so that they can be used in old browsers without polluting the global environment:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token comment" style=color:#8e908c>// 'foo' could be either a string or an array, or a custom object</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">foo</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>includes</span><span class="token punctuation">(</span><span class="token string" style=color:#718c00>"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token comment" style=color:#8e908c>// ⮕</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token imports">_includesInstanceProperty</span><span class="token plain"> </span><span class="token keyword module" style=color:#8959a8>from</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"@babel/runtime-corejs3/core-js-stable/instance/includes"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token function" style=color:#4271ae>_includesInstanceProperty</span><span class="token punctuation">(</span><span class="token plain">foo</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>call</span><span class="token punctuation">(</span><span class="token plain">foo</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre></div></div>
<p><code>@babel/preset-env</code> and <code>@babel/plugin-transform-runtime</code> now support polyfilling proposals: you just need to use <code>corejs: { version: 3, proposals: true }</code> instead of <code>corejs: 3</code> in your configuration. Keep in mind that ECMAScript proposals are inherently unstable, and could change in <code>core-js@4</code>!</p>
<p>Previously, <code>@babel/preset-env</code> relied entirely on <code>compat-table</code> data for determining which polyfills needed to be loaded for a particular environment. <code>core-js@3</code> introduces its own compatibility data set with an exhaustive test suite that should result in much more accurate polyfilling!</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=migration-from-core-js2>Migration from <code>core-js@2</code><a href=#migration-from-core-js2 class=hash-link aria-label="Direct link to migration-from-core-js2" title="Direct link to migration-from-core-js2">​</a></h3>
<p>Since versions <code>2</code> and <code>3</code> of <code>core-js</code> are incompatible with each other (we don't want to break your code!), it isn't enabled by default.</p>
<ul>
<li>
<p>If you are using <code>@babel/preset-env</code>, you need to enable the <code>corejs: 3</code> option:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token literal-property property">presets</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">[</span><span class="token string" style=color:#718c00>"@babel/preset-env"</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"usage"</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// or "entry"</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token literal-property property">corejs</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>3</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">]</span><br></span></code></pre></div></div>
<p>Don't forget to update your installed version of <code>core-js</code>!</p>
<div class="language-text codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-text codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token plain">npm install --save core-js@3</span><br></span></code></pre></div></div>
<p>When using <code>core-js</code> 3, the <code>useBuiltIns: "entry"</code> option not only transforms <code>import "core-js"</code> imports, but also <code>regenerator-runtime/runtime</code> and all the nested <code>core-js</code> entry points.</p>
<p>For example, when targeting Chrome 72, it will apply this transformation:</p>
<details class="details_IpIu alert alert--info details_jERq" data-collapsed=true><summary>Input</summary><div><div class=collapsibleContent_Fd2D><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/es"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/proposals/set-methods"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/features/set/map"</span><span class="token punctuation">;</span><br></span></code></pre></div></div></div></div></details>
<details class="details_IpIu alert alert--info details_jERq" data-collapsed=true><summary>Output</summary><div><div class=collapsibleContent_Fd2D><div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/modules/es.array.unscopables.flat"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/modules/es.array.unscopables.flat-map"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/modules/es.object.from-entries"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/modules/esnext.set.difference"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/modules/esnext.set.intersection"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/modules/esnext.set.is-disjoint-from"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/modules/esnext.set.is-subset-of"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/modules/esnext.set.is-superset-of"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/modules/esnext.set.map"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/modules/esnext.set.symmetric-difference"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/modules/esnext.set.union"</span><span class="token punctuation">;</span><br></span></code></pre></div></div></div></div></details>
<p>Unlike when using <code>core-js</code> 2, it doesn't transform <code>@babel/polyfill</code> imports because when used directly that package loads version 2 of <code>core-js</code>.</p>
</li>
<li>
<p>If you are using <code>@babel/plugin-transform-runtime</code>, you need to use the <code>corejs: 3</code> option:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">[</span><span class="token string" style=color:#718c00>"@babel/transform-runtime"</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token literal-property property">corejs</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>3</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">]</span><br></span></code></pre></div></div>
<p>You can remove <code>@babel/runtime-corejs2</code>, but you need to install <code>@babel/runtime-corejs3</code>!</p>
<div class="language-text codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-text codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token plain">npm remove @babel/runtime-corejs2</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">npm install --save @babel/runtime-corejs3</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>@babel/polyfill</code> isn't a plugin or preset, but a runtime package: if we added an option to switch between <code>core-js@2</code> and <code>core-js@3</code>, both the package versions would need to be included in your bundle. For this reason, we decided to deprecate it: you now should load <code>core-js</code> for polyfills, and <code>regenerator-runtime/runtime</code> if you are transforming generators:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token comment" style=color:#8e908c>// before</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"@babel/polyfill"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token comment" style=color:#8e908c>// after</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"core-js/stable"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"regenerator-runtime/runtime"</span><span class="token punctuation">;</span><br></span></code></pre></div></div>
<p>This gives you the ability to load any version you want, and to update those two package independently.</p>
<p>In case you are interested, you should check the old source of <code>@babel/polyfill</code> for <code>core-js@2</code>:  <a href=https://github.com/babel/babel/blob/cf4bd8bb8d7e9feb7de8d97ef0eabcdc7499fce2/packages/babel-polyfill/src/index.js target=_blank rel="noopener noreferrer">packages/babel-polyfill/src/index.js</a>.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=partial-application-9343-and-9474>Partial Application (<a href=https://github.com/babel/babel/pull/9343 target=_blank rel="noopener noreferrer">#9343</a> and <a href=https://github.com/babel/babel/pull/9474 target=_blank rel="noopener noreferrer">#9474</a>)<a href=#partial-application-9343-and-9474 class=hash-link aria-label="Direct link to partial-application-9343-and-9474" title="Direct link to partial-application-9343-and-9474">​</a></h2>
<p>This release includes both <code>@babel/parser</code> and transform support for the <a href=https://github.com/tc39/proposal-partial-application target=_blank rel="noopener noreferrer">partial application proposal</a>, which is currently at Stage 1 (last presented in July 2018). All the implementation work has been done by <a href=https://github.com/byara target=_blank rel="noopener noreferrer">Behrang Yarahmadi</a>, sponsored by Trivago.</p>
<p>This new feature allows you to bind some arguments and the <code>this</code> receiver function, similarly to the existing <code>Function#bind</code> method but with fewer limitations.</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>const</span><span class="token plain"> half </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>divide</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// half = num => divide(num, 3)</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token function" style=color:#4271ae>half</span><span class="token punctuation">(</span><span class="token number" style=color:#f5871f>6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// 3</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">element</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>addEventListener</span><span class="token punctuation">(</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token string" style=color:#718c00>"click"</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token comment" style=color:#8e908c>// handleEvent will be called with the correct "this".</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword" style=color:#8959a8>this</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>handleEvent</span><span class="token punctuation">(</span><span class="token string" style=color:#718c00>"click"</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// e => this.handleEvent("click", e)</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre></div></div>
<p>It is also really useful in conjunction with the pipeline operator proposal (especially when using the "minimal" or "F-sharp" variants), since it makes it possible to avoid a lot of arrow functions:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>let</span><span class="token plain"> newScore </span><span class="token operator">=</span><span class="token plain"> player</span><span class="token punctuation">.</span><span class="token property-access">score</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token operator">|</span><span class="token operator">></span><span class="token plain"> </span><span class="token function" style=color:#4271ae>add</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>7</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token operator">|</span><span class="token operator">></span><span class="token plain"> </span><span class="token function" style=color:#4271ae>clamp</span><span class="token punctuation">(</span><span class="token number" style=color:#f5871f>0</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>100</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token comment" style=color:#8e908c>// Without this proposal:</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>let</span><span class="token plain"> newScore </span><span class="token operator">=</span><span class="token plain"> player</span><span class="token punctuation">.</span><span class="token property-access">score</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token operator">|</span><span class="token operator">></span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter" style=color:#f5871f>_</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token function" style=color:#4271ae>add</span><span class="token punctuation">(</span><span class="token plain">_</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token operator">|</span><span class="token operator">></span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter" style=color:#f5871f>_</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token function" style=color:#4271ae>clamp</span><span class="token punctuation">(</span><span class="token number" style=color:#f5871f>0</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>100</span><span class="token punctuation">,</span><span class="token plain"> _</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre></div></div>
<p>You can test it by adding <code>@babel/plugin-proposal-partial-application</code> to your config, or by enabling the <code>stage 1</code> preset in the online <a href="https://babeljs.io/repl/build/main#?presets=stage-1" target=_blank rel="noopener noreferrer">repl</a>!</p>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class=admonitionHeading_GCBg><span class=admonitionIcon_L39b><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_pbrs><p>Although the proposal's readme also describes partial application for tagged template literals, it has not been implemented because <a href=https://github.com/babel/babel/pull/9343#issuecomment-457307782 target=_blank rel="noopener noreferrer">it will likely be removed</a>.</div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=static-private-methods-9446>Static private methods (<a href=https://github.com/babel/babel/pull/9446 target=_blank rel="noopener noreferrer">#9446</a>)<a href=#static-private-methods-9446 class=hash-link aria-label="Direct link to static-private-methods-9446" title="Direct link to static-private-methods-9446">​</a></h2>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>class</span><span class="token plain"> </span><span class="token class-name" style=color:#eab700>Person</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword" style=color:#8959a8>static</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>#is</span><span class="token punctuation">(</span><span class="token parameter" style=color:#f5871f>obj</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token keyword control-flow" style=color:#8959a8>return</span><span class="token plain"> obj </span><span class="token keyword" style=color:#8959a8>instanceof</span><span class="token plain"> </span><span class="token class-name" style=color:#eab700>Person</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token function" style=color:#4271ae>constructor</span><span class="token punctuation">(</span><span class="token parameter" style=color:#f5871f>name</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token keyword control-flow" style=color:#8959a8>if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token maybe-class-name">Person</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>#is</span><span class="token punctuation">(</span><span class="token plain">name</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">      </span><span class="token keyword control-flow" style=color:#8959a8>throw</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"It is already a person!"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre></div></div>
<p>Thanks again to <a href=https://github.com/tim-mc target=_blank rel="noopener noreferrer">Tim</a> (Bloomberg) for implementing this proposal!</p>
<p>If you already use instance private methods you can use this new feature without any additional configuration, otherwise you need to add <code>@babel/plugin-proposal-private-methods</code> to your plugins list. When using the online <a href="https://babeljs.io/repl/build/main#?presets=stage-3" target=_blank rel="noopener noreferrer">repl</a> it is enabled by the <code>stage-3</code> preset.</p>
<p>Class private features support is only one step away from being complete! 😄</p>
<div style=margin:auto;width:fit-content><table><thead><tr><th>Class Private<th><strong>Instance</strong><th><strong>Static</strong><tbody><tr><td><strong>Fields</strong> <br> <code>class A { #a = 1 }</code><td><a href=https://babeljs.io/blog/2018/08/27/7.0.0#tc39-proposals-https-githubcom-tc39-proposals-support target=_blank rel="noopener noreferrer">7.0.0</a><td><a href=https://babeljs.io/blog/2018/09/17/7.1.0#private-static-fields-stage-3 target=_blank rel="noopener noreferrer">7.1.0</a><tr><td><strong>Methods</strong> <br> <code>class A { #a() {} }</code><td><a href=https://babeljs.io/blog/2018/12/03/7.2.0#private-instance-methods-8654-https-githubcom-babel-babel-pull-8654 target=_blank rel="noopener noreferrer">7.2.0</a><td>7.4.0<tr><td><strong>Accessors</strong> <br> <code>class A { get #a() {} }</code><td><a href=https://babeljs.io/blog/2019/01/21/7.3.0#private-instance-accessors-getters-and-setters-9101-https-githubcom-babel-babel-pull-9101 target=_blank rel="noopener noreferrer">7.3.0</a><td>✖️</table></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=typescript-34-rc-support-9529-and-9534>TypeScript 3.4 RC support (<a href=https://github.com/babel/babel/pull/9529 target=_blank rel="noopener noreferrer">#9529</a> and <a href=https://github.com/babel/babel/pull/9534 target=_blank rel="noopener noreferrer">#9534</a>)<a href=#typescript-34-rc-support-9529-and-9534 class=hash-link aria-label="Direct link to typescript-34-rc-support-9529-and-9534" title="Direct link to typescript-34-rc-support-9529-and-9534">​</a></h2>
<p>TypeScript 3.4 RC was <a href=https://devblogs.microsoft.com/typescript/announcing-typescript-3-4-rc/ target=_blank rel="noopener noreferrer">released</a> a few days ago, and thanks to <a href=https://github.com/tanhauhau target=_blank rel="noopener noreferrer">Tan Li Hau</a> it is already supported by Babel!</p>
<p>There are two new features for type annotations: <code>const</code> contexts, which mark an object as "deeply frozen", and the <code>readonly</code> modifier for arrays and tuples.</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>const</span><span class="token plain"> student </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"Joe Blogs"</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token literal-property property">marks</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token number" style=color:#f5871f>25</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>23</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>30</span><span class="token punctuation">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword module" style=color:#8959a8>as</span><span class="token plain"> </span><span class="token keyword" style=color:#8959a8>const</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>const</span><span class="token plain"> </span><span class="token literal-property property">vowels</span><span class="token operator">:</span><span class="token plain"> readonly string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string" style=color:#718c00>"a"</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"e"</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"i"</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"o"</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"u"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br></span></code></pre></div></div>
<p>Keep in mind that TypeScript 3.4 RC is not a stable release, so you should wait until TypeScript 3.4 is officially released: you can subscribe to the <a href=https://devblogs.microsoft.com/typescript/ target=_blank rel="noopener noreferrer">TypeScript blog</a> to be notified when it will be available. 🙂</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=parenthesized-expressions-8025>Parenthesized expressions (<a href=https://github.com/babel/babel/issues/8025 target=_blank rel="noopener noreferrer">#8025</a>)<a href=#parenthesized-expressions-8025 class=hash-link aria-label="Direct link to parenthesized-expressions-8025" title="Direct link to parenthesized-expressions-8025">​</a></h2>
<p>Parentheses are not usually meaningful for JavaScript compilers or code generators: they are only "hints" used to tell the parser that some nodes have different precedence from the default one:</p>
<div style=margin:auto;width:fit-content><table><thead><tr><th><strong>Code</strong><th style=text-align:center><code>1 + 2 * 3</code> / <code>1 + (2 * 3)</code><th style=text-align:center><code>(1 + 2) * 3</code><tbody><tr><td><strong>AST structure</strong><td style=text-align:center><img decoding=async loading=lazy src=https://i.imgur.com/pcfIRPq.jpg alt="" class=img_SS3x><td style=text-align:center><img decoding=async loading=lazy src=https://i.imgur.com/1CXk8BZ.jpg alt="" class=img_SS3x></table></div>
<p>When the AST has been generated, the precedence of operations is determined by the tree structure and not by the original parentheses: for this reason Babel did not track them.</p>
<p>When printing an AST, <code>@babel/generator</code> has no knowledge about the original formatting and only generates parentheses where needed.</p>
<p>There are some situations where this causes problems for users. For example, when using Google Closure Compiler, parentheses are used to mark <a href=https://github.com/google/closure-compiler/wiki/Annotating-JavaScript-for-the-Closure-Compiler#type-casting target=_blank rel="noopener noreferrer">type cast expressions</a>:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token doc-comment comment" style=color:#8e908c>/** </span><span class="token doc-comment comment keyword" style=color:#8959a8>@type</span><span class="token doc-comment comment" style=color:#8e908c> </span><span class="token doc-comment comment class-name punctuation" style=color:#eab700>{</span><span class="token doc-comment comment class-name" style=color:#eab700>!MyType</span><span class="token doc-comment comment class-name punctuation" style=color:#eab700>}</span><span class="token doc-comment comment" style=color:#8e908c> */</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">valueExpression</span><span class="token punctuation">)</span><br></span></code></pre></div></div>
<p>We already had a <code>ParenthesizedExpression</code> node to represent parentheses, but it was never generated by <code>@babel/parser</code> and it could only be injected by custom plugins. Thanks to the work of <a href=https://github.com/arv target=_blank rel="noopener noreferrer">Erik Arvidsson</a>, you can now use the <code>createParenthesizedExpressions</code> <a href=https://babeljs.io/docs/en/options#parseropts target=_blank rel="noopener noreferrer">parser option</a> to automatically track them!</p>
<div style=margin:auto;width:fit-content><table><thead><tr><th><strong>Code</strong><th style=text-align:center><code>1 + (2 * 3)</code><th style=text-align:center><code>(1 + 2) * 3</code><tbody><tr><td><strong>AST structure</strong><td style=text-align:center><img decoding=async loading=lazy src=https://i.imgur.com/1uMC81f.jpg alt="" class=img_SS3x><td style=text-align:center><img decoding=async loading=lazy src=https://i.imgur.com/mT7sk7P.jpg alt="" class=img_SS3x></table></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=babelparser-spec-compliancy><code>@babel/parser</code> spec compliancy<a href=#babelparser-spec-compliancy class=hash-link aria-label="Direct link to babelparser-spec-compliancy" title="Direct link to babelparser-spec-compliancy">​</a></h2>
<p><a href=https://github.com/danez target=_blank rel="noopener noreferrer">Daniel</a> is making <code>@babel/parser</code> more and more compliant to the ECMAScript specification: it is now passing 98.97% of the tests in the <a href=https://github.com/tc39/test262 target=_blank rel="noopener noreferrer">Test262</a> suite. 😎</p>
<p>This release makes <code>@babel/parser</code> aware of JavaScript's scoping rules: it now knows which variables are declared, if there are conflicts, whether they are hoisted or not, and if a specific syntactic construct is allowed in the context where it is found.</p>
<p>All of these invalid examples are now correctly reported as errors, avoiding the need to manually disallow them in every tool that uses <code>@babel/parser</code> under the hood:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>let</span><span class="token plain"> a</span><span class="token punctuation">,</span><span class="token plain"> a</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// Duplicate declaration 💥</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword control-flow" style=color:#8959a8>if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">foo</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword control-flow" style=color:#8959a8>if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">bar</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token keyword" style=color:#8959a8>var</span><span class="token plain"> b </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword" style=color:#8959a8>let</span><span class="token plain"> b</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// Duplicate declaration, again 💥</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword module" style=color:#8959a8>export</span><span class="token plain"> </span><span class="token exports punctuation">{</span><span class="token exports"> </span><span class="token exports maybe-class-name">Foo</span><span class="token exports"> </span><span class="token exports punctuation">}</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// Error, Foo is not declared ❓</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>class</span><span class="token plain"> </span><span class="token class-name" style=color:#eab700>C</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token function" style=color:#4271ae>constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token keyword" style=color:#8959a8>super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// Super in a non-derived class 🤔</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token function" style=color:#4271ae>method</span><span class="token punctuation">(</span><span class="token parameter" style=color:#f5871f>d</span><span class="token parameter punctuation" style=color:#f5871f>,</span><span class="token parameter" style=color:#f5871f> d</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// Duplicate parameter 💥</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=code-placeholders-9364>Code placeholders (<a href=https://github.com/babel/babel/pull/9364 target=_blank rel="noopener noreferrer">#9364</a>)<a href=#code-placeholders-9364 class=hash-link aria-label="Direct link to code-placeholders-9364" title="Direct link to code-placeholders-9364">​</a></h2>
<p>Code is not always meant to be directly written by humans: what if some code needs to be generated, maybe using a predefined template?</p>
<p>Template files are often used to generate HTML code, either using a language like PHP or a template engine like Handlebars:</p>
<div class="language-htmlmixed codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-htmlmixed codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token plain">&lt;!-- PHP --></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">&lt;section></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  &lt;h1>&lt;?= $title ?>&lt;/h1></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  &lt;main>&lt;?= $body ?>&lt;/main></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">&lt;/section></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">&lt;!-- Handlebars --></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">&lt;section></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  &lt;h1>{{ title }}&lt;/h1></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  &lt;main>{{ body }}&lt;/main></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">&lt;/section></span><br></span></code></pre></div></div>
<p>If you have ever developed a Babel plugin, you might have used <code>@babel/template</code>: it is a utility which allows you to do the same thing, but generating JavaScript code:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>const</span><span class="token plain"> buildAssign </span><span class="token operator">=</span><span class="token plain"> template</span><span class="token template-string template-punctuation string" style=color:#718c00>`</span><span class="token template-string string" style=color:#718c00></span><br></span><span class=token-line style=color:#4d4d4c><span class="token template-string string" style=color:#718c00>  var NAME = VALUE;</span><br></span><span class=token-line style=color:#4d4d4c><span class="token template-string string" style=color:#718c00></span><span class="token template-string template-punctuation string" style=color:#718c00>`</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>const</span><span class="token plain"> result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>buildAssign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token constant" style=color:#f5871f>NAME</span><span class="token operator">:</span><span class="token plain"> varName</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token constant" style=color:#f5871f>VALUE</span><span class="token operator">:</span><span class="token plain"> varValue</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre></div></div>
<p>Until now, <code>@babel/template</code> used uppercase identifier as "placeholders", which then needed to be replaced. While this approach worked well in most cases, it also had some caveats:</p>
<ul>
<li>by default, every uppercase identifier was marked as a placeholder and <code>@babel/template</code> would threw an error if it was not replaced.</li>
<li>it was not possible to put a placeholder where an identifier is not allowed, for example in place of a function body or an exported declaration.</li>
</ul>
<p>To solve these problems, we introduced a new syntactic element, which can replace any node: <code>%%placeholder_name%%</code>.</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>const</span><span class="token plain"> buildLazyFn </span><span class="token operator">=</span><span class="token plain"> template</span><span class="token template-string template-punctuation string" style=color:#718c00>`</span><span class="token template-string string" style=color:#718c00></span><br></span><span class=token-line style=color:#4d4d4c><span class="token template-string string" style=color:#718c00>  function %%name%%(%%params%%) {</span><br></span><span class=token-line style=color:#4d4d4c><span class="token template-string string" style=color:#718c00>    return function () %%body%%;</span><br></span><span class=token-line style=color:#4d4d4c><span class="token template-string string" style=color:#718c00>  }</span><br></span><span class=token-line style=color:#4d4d4c><span class="token template-string string" style=color:#718c00></span><span class="token template-string template-punctuation string" style=color:#718c00>`</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>const</span><span class="token plain"> result </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>buildLazyFn</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token plain"> functionName</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token literal-property property">params</span><span class="token operator">:</span><span class="token plain"> functionParams</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token literal-property property">body</span><span class="token operator">:</span><span class="token plain"> functionBody</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre></div></div>
<p>This feature has being sponsored by <a href=https://stripe.com target=_blank rel="noopener noreferrer">Stripe</a> (via <a href=https://runkit.com target=_blank rel="noopener noreferrer">Runkit</a>). We have been experimenting with new ways of sponsoring Babel, and for the first time a company directly sponsored the implementation of a feature by paying a member of the team to work on it. If your company wants to sponsor the implementation of an ECMAScript proposal, or a general improvement to Babel, please contact us!</p>
<hr>
<p><a href="https://twitter.com/search?q=https%3A%2F%2Fbabeljs.io%2Fblog%2F2019%2F03%2F19%2F7.4.0" target=_blank rel="noopener noreferrer">Discuss on Twitter</a></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/blog/2019/07/02/the-babel-podcast><div class=pagination-nav__sublabel>Newer post</div><div class=pagination-nav__label>The Babel Podcast</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/blog/2019/01/21/7.3.0><div class=pagination-nav__sublabel>Older post</div><div class=pagination-nav__label>7.3.0 Released: Named capturing groups, private instance accessors and smart pipelines</div></a></nav></main><div class="col col--2"><div class="tableOfContents_XG6w thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#core-js-3-7646 class="table-of-contents__link toc-highlight"><code>core-js</code> 3 (#7646)</a><ul><li><a href=#migration-from-core-js2 class="table-of-contents__link toc-highlight">Migration from <code>core-js@2</code></a></ul><li><a href=#partial-application-9343-and-9474 class="table-of-contents__link toc-highlight">Partial Application (#9343 and #9474)</a><li><a href=#static-private-methods-9446 class="table-of-contents__link toc-highlight">Static private methods (#9446)</a><li><a href=#typescript-34-rc-support-9529-and-9534 class="table-of-contents__link toc-highlight">TypeScript 3.4 RC support (#9529 and #9534)</a><li><a href=#parenthesized-expressions-8025 class="table-of-contents__link toc-highlight">Parenthesized expressions (#8025)</a><li><a href=#babelparser-spec-compliancy class="table-of-contents__link toc-highlight"><code>@babel/parser</code> spec compliancy</a><li><a href=#code-placeholders-9364 class="table-of-contents__link toc-highlight">Code placeholders (#9364)</a></ul></div></div></div></div></div><footer class=nav-footer id=footer><section class=sitemap><a class=nav-home href=/><img src=https://d33wubrfki0l68.cloudfront.net/7a197cfe44548cc1a3f581152af70a3051e11671/78df8/img/babel.svg alt=Babel width=66 height=58></a><div><h5>Docs</h5><a href=/docs/learn>Learn ES2015</a></div><div><h5>Community</h5><a href=/videos>Videos</a><a href=/users>User Showcase</a><a href=http://stackoverflow.com/questions/tagged/babeljs target=_blank rel="noopener noreferrer">Stack Overflow</a><a href=https://babeljs.slack.com/ target=_blank rel="noopener noreferrer">Slack Channel</a><a href=https://x.com/babeljs target=_blank rel="noopener noreferrer">X (Twitter)</a><a href=https://bsky.app/profile/babel.dev target=_blank rel="noopener noreferrer">Bluesky</a></div><div><h5>More</h5><a href=/blog>Blog</a><a href=https://github.com/babel target=_blank rel="noopener noreferrer">GitHub Org</a><a href=https://github.com/babel/babel target=_blank rel="noopener noreferrer">GitHub Repo</a><a href=https://github.com/babel/website target=_blank rel="noopener noreferrer">Website Repo</a><a href=https://old.babeljs.io target=_blank rel="noopener noreferrer">Old 6.x Site</a><a href=http://henryzoo.com/babel.github.io target=_blank rel="noopener noreferrer">Old 5.x Site</a></div></section></footer></div>