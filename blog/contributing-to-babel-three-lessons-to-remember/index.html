<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Contributing to Babel: Three Lessons to Remember · Babel</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://babel.qubitpi.org/blog/contributing-to-babel-three-lessons-to-remember><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docusaurus_tag content=default><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docsearch:docusaurus_tag content=default><meta data-rh=true property=og:title content="Contributing to Babel: Three Lessons to Remember · Babel"><meta data-rh=true name=description content="Getting to work your way around a new code base always poses its challenges, and Babel was no exception."><meta data-rh=true property=og:description content="Getting to work your way around a new code base always poses its challenges, and Babel was no exception."><meta data-rh=true property=og:type content=article><meta data-rh=true property=article:published_time content=2017-08-16T14:00:00.000Z><meta data-rh=true property=article:author content=https://twitter.com/qantas94heavy><link data-rh=true rel=icon href=/img/favicon.png><link data-rh=true rel=canonical href=https://babel.qubitpi.org/blog/contributing-to-babel-three-lessons-to-remember><link data-rh=true rel=alternate href=https://babel.qubitpi.org/blog/contributing-to-babel-three-lessons-to-remember hreflang=en><link data-rh=true rel=alternate href=https://babel.qubitpi.org/blog/contributing-to-babel-three-lessons-to-remember hreflang=x-default><link data-rh=true rel=preconnect href=https://M7KGJDK6WF-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://babel.qubitpi.org/blog/contributing-to-babel-three-lessons-to-remember","@type":"BlogPosting","author":{"@type":"Person","name":"Karl Cheng","url":"https://twitter.com/qantas94heavy"},"datePublished":"2017-08-16T14:00:00.000Z","description":"Getting to work your way around a new code base always poses its challenges, and Babel was no exception.","headline":"Contributing to Babel: Three Lessons to Remember","isPartOf":{"@id":"https://babel.qubitpi.org/blog","@type":"Blog","name":"Blog"},"keywords":[],"mainEntityOfPage":"https://babel.qubitpi.org/blog/contributing-to-babel-three-lessons-to-remember","name":"Contributing to Babel: Three Lessons to Remember","url":"https://babel.qubitpi.org/blog/contributing-to-babel-three-lessons-to-remember"}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Babel RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Babel Atom Feed"><link rel=search type=application/opensearchdescription+xml title=Babel href=/opensearch.xml><script src=https://unpkg.com/@babel/standalone@^7.0.0/babel.min.js defer></script><script src=/js/components/mini-repl.js type=module></script><script src=/js/components/assumption-repl.js type=module></script><link rel=stylesheet href=/assets/css/styles.6b8cbdcb.css><script src=/assets/js/runtime~main.a22aa5de.js defer></script><script src=/assets/js/main.2ba274b4.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":(window.matchMedia("(prefers-color-scheme: light)").matches,"light"),document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/babel.svg><link rel=preload as=image href=/assets/2017-08-16-gsoc-karl-1/question.png><link rel=preload as=image href=/assets/2017-08-16-gsoc-karl-1/update.png><link rel=preload as=image href=/assets/2017-08-16-gsoc-karl-1/babel-test.png><link rel=preload as=image href=/assets/2017-08-16-gsoc-karl-1/debugger-cropped.png><link rel=preload as=image href=/assets/2017-08-16-gsoc-karl-1/chromium-task-manager.png><link rel=preload as=image href=/assets/2017-08-16-gsoc-karl-1/world-map.png><link rel=preload as=image href=/assets/2017-08-16-gsoc-karl-1/time-zone-list.png><link rel=preload as=image href=https://d33wubrfki0l68.cloudfront.net/7a197cfe44548cc1a3f581152af70a3051e11671/78df8/img/babel.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_oPtH href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/babel.svg alt="Babel logo" class="themedComponent_siVc themedComponent--light_hHel"><img src=/img/babel.svg alt="Babel logo" class="themedComponent_siVc themedComponent--dark_yETr"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/docs/>Docs</a><a class="navbar__item navbar__link" href=/setup>Setup</a><a class="navbar__item navbar__link" href=/repl>Try it out</a><a class="navbar__item navbar__link" href=/videos/>Videos</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/blog>Blog</a><div class=navbarSearchContainer_bzqh><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div><a href=https://opencollective.com/babel target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPrP><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a class="navbar__item navbar__link" href=/team>Team</a><a href=https://github.com/babel/babel target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPrP><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_lgto><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_U96C><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_MB5r"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_CLW8 thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_DQfJ margin-bottom--md">All Blog Posts</div><div role=group><h3 class=yearGroupHeading_jjLT>2025</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2025/06/30/7.28.0>7.28.0 Released: `babel.config.ts`, explicit resource management, and discard binding proposal</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2025/05/30/babel-8-beta>Announcing Babel 8 Beta</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2025/03/24/7.27.0>7.27.0 Released: better ecosystem alignment</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2024</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2024/10/25/7.26.0>7.26.0 Released: stage 4 features enabled by default, and a new experimental code printer</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2024/07/26/7.25.0>7.25.0 Released: Safari bugfixes and duplicated named capturing groups</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2024/02/28/7.24.0>7.24.0 Released: Decorator updates and JSON modules imports</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2023</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2023/10/16/cve-2023-45133>CVE-2023-45133: Finding an Arbitrary Code Execution Vulnerability In Babel</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2023/09/25/7.23.0>7.23.0 Released: Decorator Metadata and many new `import` features!</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2023/05/26/7.22.0>7.22.0 Released: Explicit Resource Management support and Import Attributes parsing</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2023/02/20/7.21.0>7.21.0 Released: Inline RegExp modifiers, TypeScript 5.0, and Decorators updates</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2022</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2022/10/27/7.20.0>7.20.0 Released: Deno target and TypeScript 4.9</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2022/09/05/7.19.0>7.19.0 Released: Stage 3 decorators and more RegExp features!</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2022/05/19/7.18.0>7.18.0 Released: Destructuring private elements and TypeScript 4.7</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2022/02/02/7.17.0>7.17.0 Released: RegExp 'v' mode and ... 🥁 decorators!</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2021</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/10/29/7.16.0>7.16.0 Released: ESLint 8 and TypeScript 4.5</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/07/26/7.15.0>7.15.0 Released: Hack-style pipelines, TypeScript const enums and Rhino target support</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/05/10/funding-update>Babel is used by millions, so why are we running out of money?</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/04/29/7.14.0>7.14.0 Released: New class features enabled by default, TypeScript 4.3, and better CommonJS interop</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/02/22/7.13.0>7.13.0 Released: Records and Tuples, granular compiler assumptions, and top-level targets</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2020</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/10/15/7.12.0>7.12.0 Released: TypeScript 4.1, strings as import/export names, and class static blocks</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/07/30/7.11.0>7.11.0 Released: ECMAScript 2021 support in preset-env, TypeScript 4.0 support, printing config and the future of `babel-eslint`</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/07/13/the-state-of-babel-eslint>The State of babel-eslint</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/05/25/7.10.0>7.10.0 Released: Class Fields in preset-env, '#private in' checks and better React tree-shaking</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/03/16/7.9.0>7.9.0 Released: Smaller preset-env output, Typescript 3.8 support and a new JSX transform</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/01/11/7.8.0>7.8.0 Released: ECMAScript 2020, .mjs configuration files and @babel/cli improvements</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2019</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/11/08/babels-funding-plans>Babel's Funding Plans</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/11/05/7.7.0>7.7.0 Released: Error recovery and TypeScript 3.7</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/09/05/7.6.0>7.6.0 Released: Private static accessors and V8 intrinsic syntax</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/07/03/7.5.0>7.5.0 Released: dynamic import and F# pipelines</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/07/02/the-babel-podcast>The Babel Podcast</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/03/19/7.4.0>7.4.0 Released: core-js 3, static private methods and partial application</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/01/21/7.3.0>7.3.0 Released: Named capturing groups, private instance accessors and smart pipelines</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2018</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/12/03/7.2.0>7.2.0 Released: Private Instance Methods</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/09/17/7.1.0>7.1.0 Released: Decorators, Private Static Fields</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/09/17/decorators>TC39 Standards Track Decorators in Babel</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/08/27/7.0.0>Babel 7 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/07/27/removing-babels-stage-presets>Removing Babel's Stage Presets</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/07/19/whats-happening-with-the-pipeline-proposal>What's Happening With the Pipeline (|>) Proposal?</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/07/16/announcing-babels-new-partnership-with-trivago>Announcing Babel's New Partnership with trivago!</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/06/26/on-consuming-and-publishing-es2015+-packages>On Consuming (and Publishing) ES2015+ Packages</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2017</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/12/27/nearing-the-7.0-release>Nearing the 7.0 Release</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/10/05/babel-turns-three>Babel Turns Three</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/09/12/planning-for-7.0>Planning for 7.0</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/09/11/zero-config-with-babel-macros>Zero-config code transformation with babel-plugin-macros</a><li class=sidebarItem__RMN><a aria-current=page class="sidebarItemLink_Ony9 sidebarItemLinkActive_MJ75" href=/blog/contributing-to-babel-three-lessons-to-remember>Contributing to Babel: Three Lessons to Remember</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/personal-experiences-at-babel-1-a-pr-with-unusually-high-number-of-reviews>Personal Experiences at Babel #1 — A PR with Unusually High Number of Reviews</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/08/09/babel-and-summer-of-code>Babel and Summer of Code 2017</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/03/01/upgrade-to-babel-7-for-tool-authors>Upgrade to Babel 7 for Tool Authors (WIP)</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/03/01/upgrade-to-babel-7>Upgrade to Babel 7 (moved)</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/02/13/6.23.0>6.23.0 Released</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2016</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/12/07/the-state-of-babel>The State of Babel</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/11/16/6.19.0>6.19.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/10/24/6.18.0>6.18.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/09/28/6.16.0>6.16.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/08/26/babili>Babili (babel-minify)</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/08/24/6.14.0>6.14.0 Released</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2015</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/11/03/babel-doctor>Babel Doctor</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/10/31/setting-up-babel-6>Setting up Babel 6</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/10/29/6.0.0>6.0.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/07/07/react-on-es6-plus>React on ES6+</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/05/14/function-bind>Function Bind Syntax</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/03/31/5.0.0>5.0.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/02/23/babel-loves-react>Babel &lt;3 React</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/02/15/not-born-to-die>Not Born to Die</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/01/27/2to3>2to3</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/01/12/6to5-esnext>6to5 + esnext</a></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class=title_Kdtz>Contributing to Babel: Three Lessons to Remember</h1><div class="container_iZB2 margin-vert--md"><time datetime=2017-08-16T14:00:00.000Z>August 16, 2017</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_v1VX"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_W4s3"><div class=avatar__name><a href=https://twitter.com/qantas94heavy target=_blank rel="noopener noreferrer"><span class=authorName_Tejg>Karl Cheng</span></a></div><div class=authorSocials_VbIH></div></div></div></div></div></header><div id=__blog-post-container class=markdown><p>Getting to work your way around a new code base always poses its challenges, and Babel was no exception.</p>
<p>I’ve been working with Babel as part of the Google Summer of Code 2017 program, working to update Babel transforms and the Babylon parser to accommodate changes to specifications and implementing new features.</p>
<p>Here’s a few things I’ve learnt from my adventures so far.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=1-yes-communication-is-important>1. Yes, communication is important<a href=#1-yes-communication-is-important class=hash-link aria-label="Direct link to 1. Yes, communication is important" title="Direct link to 1. Yes, communication is important">​</a></h2>
<p>To start off with getting to know the codebase better, I combed through the open issues list on Babel and found a relatively easy one (<a href=https://github.com/babel/babel/issues/5728 target=_blank rel="noopener noreferrer">issue #5728</a>) to deal with.</p>
<p>Just to make sure I knew what I was doing, I fired a quick question on the thread:</p>
<img class=img-responsive alt="My question asking for clarification" src=/assets/2017-08-16-gsoc-karl-1/question.png>
<p>After getting clarification, I set off to change the plugin to not throw "runtime" errors during transpilation, but only when the code is actually being run. One incriminating piece of code stuck out:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_x_ju>JavaScript</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword control-flow" style=color:#8959a8>for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword" style=color:#8959a8>const</span><span class="token plain"> violation </span><span class="token keyword" style=color:#8959a8>of</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">binding</span><span class="token punctuation">.</span><span class="token property-access">constantViolations</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style=color:#eab700>Array</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword control-flow" style=color:#8959a8>throw</span><span class="token plain"> violation</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>buildCodeFrameError</span><span class="token punctuation">(</span><span class="token plain">messages</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>get</span><span class="token punctuation">(</span><span class="token string" style=color:#718c00>"readOnly"</span><span class="token punctuation">,</span><span class="token plain"> name</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Now what needed to be done here was to actually insert a <code>throw</code> statement into the generated code, which didn’t prove to be too difficult. However, there were still a few cases where runtime errors were being thrown elsewhere from code that wasn’t directly related to this file.</p>
<p>Wanting to go and explore other parts of the Babel code base, I put that down for me to get on with later.</p>
<p>Not too long after, I received a, well, interesting update on the issue… Wait what?</p>
<img class=img-responsive alt="Someone else had claimed the issue." src=/assets/2017-08-16-gsoc-karl-1/update.png>
<p>I never actually said I was working on fixing the issue, but assumed that posting would have implied I was going to work on it.</p>
<p>Oops.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=2-where-snapshot-testing-falls-short>2. Where snapshot testing falls short<a href=#2-where-snapshot-testing-falls-short class=hash-link aria-label="Direct link to 2. Where snapshot testing falls short" title="Direct link to 2. Where snapshot testing falls short">​</a></h2>
<p>After setting off for another hunt, I stumbled across <a href=https://github.com/babel/babel/issues/5656 target=_blank rel="noopener noreferrer">issue #5656</a>:</p>
<blockquote>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=arguments-deoptimized-when-shadowed-in-nested-function>Arguments deoptimized when shadowed in nested function<a href=#arguments-deoptimized-when-shadowed-in-nested-function class=hash-link aria-label="Direct link to Arguments deoptimized when shadowed in nested function" title="Direct link to Arguments deoptimized when shadowed in nested function">​</a></h3>
<p>This is a feature request (I think). Arguments are not optimized if an inner function shadows the name with a parameter (or rest parameters in my case).</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=input-code>Input code<a href=#input-code class=hash-link aria-label="Direct link to Input code" title="Direct link to Input code">​</a></h4>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_x_ju>JavaScript</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#4271ae>log</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter spread operator" style=color:#f5871f>...</span><span class="token parameter" style=color:#f5871f>args</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token console class-name" style=color:#eab700>console</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>log</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>function</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>test_opt</span><span class="token punctuation">(</span><span class="token parameter spread operator" style=color:#f5871f>...</span><span class="token parameter" style=color:#f5871f>args</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token function" style=color:#4271ae>log</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>function</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>test_deopt</span><span class="token punctuation">(</span><span class="token parameter spread operator" style=color:#f5871f>...</span><span class="token parameter" style=color:#f5871f>args</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword" style=color:#8959a8>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#4271ae>fn</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter spread operator" style=color:#f5871f>...</span><span class="token parameter" style=color:#f5871f>args</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=></span><span class="token plain"> </span><span class="token function" style=color:#4271ae>log</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token function" style=color:#4271ae>fn</span><span class="token punctuation">(</span><span class="token spread operator">...</span><span class="token plain">args</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>...</p>
<h4 class="anchor anchorWithStickyNavbar_JmGV" id=expected-vs-current-behavior>Expected vs. Current Behavior<a href=#expected-vs-current-behavior class=hash-link aria-label="Direct link to Expected vs. Current Behavior" title="Direct link to Expected vs. Current Behavior">​</a></h4>
<p>I’d expect the code to be optimizable to use .apply( thisArg, arguments ) throughout.
However, in test_deopt the outer ...args gets copied just to be passed into the inner fn.
I can verify that the problem disappears if I rename either the ...args of test_deopt or of the fn arrow function.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=whats-going-on-here>What’s going on here?<a href=#whats-going-on-here class=hash-link aria-label="Direct link to What’s going on here?" title="Direct link to What’s going on here?">​</a></h3>
<p>Now what was happening was that this code would generate the following:</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_x_ju>JavaScript</div><div class=codeBlockContent_D5yF><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>var</span><span class="token plain"> </span><span class="token function-variable function" style=color:#4271ae>log</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style=color:#8959a8>function</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword" style=color:#8959a8>var</span><span class="token plain"> _console</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword control-flow" style=color:#8959a8>return</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">_console </span><span class="token operator">=</span><span class="token plain"> console</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>log</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>apply</span><span class="token punctuation">(</span><span class="token plain">_console</span><span class="token punctuation">,</span><span class="token plain"> arguments</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>function</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>test_opt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  log</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>apply</span><span class="token punctuation">(</span><span class="token keyword nil" style=color:#8959a8>undefined</span><span class="token punctuation">,</span><span class="token plain"> arguments</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>function</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>test_deopt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword control-flow" style=color:#8959a8>for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword" style=color:#8959a8>var</span><span class="token plain"> _len </span><span class="token operator">=</span><span class="token plain"> arguments</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">,</span><span class="token plain"> args </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style=color:#eab700>Array</span><span class="token punctuation">(</span><span class="token plain">_len</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> _key </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>0</span><span class="token punctuation">;</span><span class="token plain"> _key </span><span class="token operator">&lt;</span><span class="token plain"> _len</span><span class="token punctuation">;</span><span class="token plain"> _key</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// unnecessary loop</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    args</span><span class="token punctuation">[</span><span class="token plain">_key</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> arguments</span><span class="token punctuation">[</span><span class="token plain">_key</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword" style=color:#8959a8>var</span><span class="token plain"> </span><span class="token function-variable function" style=color:#4271ae>fn</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style=color:#8959a8>function</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token keyword control-flow" style=color:#8959a8>return</span><span class="token plain"> log</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>apply</span><span class="token punctuation">(</span><span class="token keyword nil" style=color:#8959a8>undefined</span><span class="token punctuation">,</span><span class="token plain"> arguments</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  fn</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>apply</span><span class="token punctuation">(</span><span class="token keyword nil" style=color:#8959a8>undefined</span><span class="token punctuation">,</span><span class="token plain"> args</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class=buttonGroup_aaMX><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_z5j7 aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_FoOz><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_L0B6><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>See that <code>for</code> section there? Usually this is needed as the arguments object isn’t a real array — for example, if you tried to run <code>arguments.slice()</code>, it would fail miserably.
However, in this case it’s only being passed to <code>Function.prototype.apply</code>. Surprisingly enough, Babel already bothers to optimize this specific case, like in the <code>test_opt</code> example above.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=trying-to-fix-it>Trying to fix it<a href=#trying-to-fix-it class=hash-link aria-label="Direct link to Trying to fix it" title="Direct link to Trying to fix it">​</a></h3>
<p>So what did I do? Adding the problem file as a new test case, I tried to see if I could get the output to reflect what I wanted.</p>
<img class=img-responsive alt="Test failure of modified code" src=/assets/2017-08-16-gsoc-karl-1/babel-test.png>
<p>“Why’s the test failing? Surely if I change it a little it will solve itself.”</p>
<p>Despite spamming <code>make test-only</code> and modifying the transforms of referenced identifiers within the code, any change just resulted in a different bunch of tests failing instead.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=the-chromium-debugger-is-fun>The Chromium debugger is “fun”<a href=#the-chromium-debugger-is-fun class=hash-link aria-label="Direct link to The Chromium debugger is “fun”" title="Direct link to The Chromium debugger is “fun”">​</a></h3>
<p>Miserable, annoyed and confused, I bothered to fire up the Node.js inspector to step through what was going on.</p>
<img class=img-responsive alt="Using the Chromium debugger" src=/assets/2017-08-16-gsoc-karl-1/debugger-cropped.png>
<p>After returning to my computer from a drink break, I’m gladly greeted to my hard disk light thrashing around and a practically hung computer.</p>
<img class=img-responsive alt="Chromium process using more than 3GB of memory" src=/assets/2017-08-16-gsoc-karl-1/chromium-task-manager.png>
<p>Holding my computer together with judicious applications of <kbd>Alt</kbd> + <kbd>SysRq</kbd> + <kbd>F</kbd>, I managed to work through the flow of things¹ and figure out how exactly the code worked.</p>
<p>Even through all that, I still couldn’t see any reason why it was deciding to remove this “necessary” (so I thought) code that was being removed with my original fix.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=the-actual-problem>The actual problem?<a href=#the-actual-problem class=hash-link aria-label="Direct link to The actual problem?" title="Direct link to The actual problem?">​</a></h3>
<p>See the error shown above? That entire code in green wasn’t meant to be there, even though it was “expected”.</p>
<p>Basically: the test was broken. <em>Great.</em> :/</p>
<p><a href=https://github.com/babel/babel/pull/5721 target=_blank rel="noopener noreferrer">The actual fix</a> involved creating a <code>referencesRest</code> function to make sure that the spread operator was actually being applied to the original parameter, rather than a variable in another scope masking the variable.</p>
<blockquote>
<p>¹: Turns out that adding a large folder to the DevTools workspace would leak memory until causing an OOM (<a href=https://github.com/babel/babel/issues/5656#issuecomment-300139737 target=_blank rel="noopener noreferrer">bug I filed for this</a>).</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=so-why-do-we-use-snapshot-testing-then>So why do we use snapshot testing then?!<a href=#so-why-do-we-use-snapshot-testing-then class=hash-link aria-label="Direct link to So why do we use snapshot testing then?!" title="Direct link to So why do we use snapshot testing then?!">​</a></h3>
<p>Well first off, it's far easier to create tests when all you need to do is ask Babel to run your test case to generate your expected file. This presents to us a low time cost option while protecting against a significant proportion of potential errors.</p>
<p>Also, especially with the type of program Babel is, it would be far harder to test for in other ways. For example, we could check for specific nodes of the AST, but this takes far longer to write and is also prone to non-obvious breakage when your code attempts to change the way the transform is done.</p>
<p>So, all in all, a few lessons here:</p>
<ol>
<li>Make sure your tests are right in the first place—don't be complacent!</li>
<li>Yes, the debugger is actually useful in seeing what goes on.</li>
<li>Sometimes things take time to work out—if you’re getting nowhere, take a break or work on something else.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=3-team-meetings>3. Team meetings!<a href=#3-team-meetings class=hash-link aria-label="Direct link to 3. Team meetings!" title="Direct link to 3. Team meetings!">​</a></h2>
<p>I know this kinda stretches the notion of an “issue”, but anyway :)</p>
<p>When you’re working on a project with a bunch of other people, it’s always useful to catch up with one another and discuss areas which we need to work on.</p>
<p>So how exactly do we go about doing that?!</p>
<p><em>Ugh, meetings.</em></p>
<p>When you have a bunch of people spread across the world, finding ways to communicate is never easy, but regardless we would have to make do with our attempts at this feat.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=time-zones>Time zones<a href=#time-zones class=hash-link aria-label="Direct link to Time zones" title="Direct link to Time zones">​</a></h3>
<p>When you’re dealing with a open source project spanning all across the globe, picking an appropriate hour quickly turns a rather involved exercise in bikeshedding.</p>
<img class=img-responsive alt="World map of people who’ve attended our meetings" src=/assets/2017-08-16-gsoc-karl-1/world-map.png>
<p>Even with the vast spread between each of us, it seemed like we could just about manage to finally get something together.</p>
<img class=img-responsive alt="Time zones discussed in 31 May 2017 meeting" src=/assets/2017-08-16-gsoc-karl-1/time-zone-list.png>
<p>Alas, this was not to last. Eventually, we ended up having to switch between two times every other week to accommodate other users (13:00 and 16:00 UTC), which meant that I was only able to attend once a fortnight.</p>
<p>Despite this, we’ve managed to make significant progress with coordinating fixes to various parts that make up key changes to Babel, including support for TypeScript, changes to the order in which transform plugins run, as well as keeping up to date with changes from TC39.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=where-to-next>Where to next?<a href=#where-to-next class=hash-link aria-label="Direct link to Where to next?" title="Direct link to Where to next?">​</a></h2>
<p>We’re continuing to polish up Babel 7 for general consumption, with <a href=https://babeljs.io/blog/2017/03/01/upgrade-to-babel-7 target=_blank rel="noopener noreferrer">a number of new features</a> coming along with that.</p>
<p>I’m working with a bunch of others to get support for updated <a href=https://github.com/tc39/proposal-class-fields target=_blank rel="noopener noreferrer">Class Fields</a> specification proposal included into Babel so that people can test it out and provide feedback.</p>
<p>Also, while I’m at it, I’d like to thank all of the Babel mentors and contributors for helping me out with peer reviews and providing guidance with proposals, all the way from first contact to today.</p>
<hr>
<p>Looking to find out more about Babel? Hit up our <a href=https://github.com/babel/babel/blob/main/CONTRIBUTING.md target=_blank rel="noopener noreferrer">contributing page</a> and join the <a href=https://slack.babeljs.io target=_blank rel="noopener noreferrer">Slack community</a>!</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=more-about-karl>More about Karl<a href=#more-about-karl class=hash-link aria-label="Direct link to More about Karl" title="Direct link to More about Karl">​</a></h2>
<p>Karl Cheng is a <a href=https://summerofcode.withgoogle.com/organizations/5842528113786880/#6600055503978496 target=_blank rel="noopener noreferrer">GSoC 2017</a> student hailing from Sydney, Australia. Find out more about him on GitHub (<a href=https://github.com/Qantas94Heavy target=_blank rel="noopener noreferrer">Qantas94Heavy</a>) and Twitter (<a href=https://twitter.com/Qantas94Heavy target=_blank rel="noopener noreferrer">@Qantas94Heavy</a>)!</p>
<p>Please check out our first post on <a href=https://babeljs.io/blog/2017/08/09/babel-and-summer-of-code target=_blank rel="noopener noreferrer">Summer of Code</a> for more info!</div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/blog/2017/09/11/zero-config-with-babel-macros><div class=pagination-nav__sublabel>Newer post</div><div class=pagination-nav__label>Zero-config code transformation with babel-plugin-macros</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/blog/personal-experiences-at-babel-1-a-pr-with-unusually-high-number-of-reviews><div class=pagination-nav__sublabel>Older post</div><div class=pagination-nav__label>Personal Experiences at Babel #1 — A PR with Unusually High Number of Reviews</div></a></nav></main><div class="col col--2"><div class="tableOfContents_XG6w thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#1-yes-communication-is-important class="table-of-contents__link toc-highlight">1. Yes, communication is important</a><li><a href=#2-where-snapshot-testing-falls-short class="table-of-contents__link toc-highlight">2. Where snapshot testing falls short</a><ul><li><a href=#arguments-deoptimized-when-shadowed-in-nested-function class="table-of-contents__link toc-highlight">Arguments deoptimized when shadowed in nested function</a><li><a href=#whats-going-on-here class="table-of-contents__link toc-highlight">What’s going on here?</a><li><a href=#trying-to-fix-it class="table-of-contents__link toc-highlight">Trying to fix it</a><li><a href=#the-chromium-debugger-is-fun class="table-of-contents__link toc-highlight">The Chromium debugger is “fun”</a><li><a href=#the-actual-problem class="table-of-contents__link toc-highlight">The actual problem?</a><li><a href=#so-why-do-we-use-snapshot-testing-then class="table-of-contents__link toc-highlight">So why do we use snapshot testing then?!</a></ul><li><a href=#3-team-meetings class="table-of-contents__link toc-highlight">3. Team meetings!</a><ul><li><a href=#time-zones class="table-of-contents__link toc-highlight">Time zones</a></ul><li><a href=#where-to-next class="table-of-contents__link toc-highlight">Where to next?</a><li><a href=#more-about-karl class="table-of-contents__link toc-highlight">More about Karl</a></ul></div></div></div></div></div><footer class=nav-footer id=footer><section class=sitemap><a class=nav-home href=/><img src=https://d33wubrfki0l68.cloudfront.net/7a197cfe44548cc1a3f581152af70a3051e11671/78df8/img/babel.svg alt=Babel width=66 height=58></a><div><h5>Docs</h5><a href=/docs/learn>Learn ES2015</a></div><div><h5>Community</h5><a href=/videos>Videos</a><a href=/users>User Showcase</a><a href=http://stackoverflow.com/questions/tagged/babeljs target=_blank rel="noopener noreferrer">Stack Overflow</a><a href=https://babeljs.slack.com/ target=_blank rel="noopener noreferrer">Slack Channel</a><a href=https://x.com/babeljs target=_blank rel="noopener noreferrer">X (Twitter)</a><a href=https://bsky.app/profile/babel.dev target=_blank rel="noopener noreferrer">Bluesky</a></div><div><h5>More</h5><a href=/blog>Blog</a><a href=https://github.com/babel target=_blank rel="noopener noreferrer">GitHub Org</a><a href=https://github.com/babel/babel target=_blank rel="noopener noreferrer">GitHub Repo</a><a href=https://github.com/babel/website target=_blank rel="noopener noreferrer">Website Repo</a><a href=https://old.babeljs.io target=_blank rel="noopener noreferrer">Old 6.x Site</a><a href=http://henryzoo.com/babel.github.io target=_blank rel="noopener noreferrer">Old 5.x Site</a></div></section></footer></div>