<!doctype html><html lang=en dir=ltr class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Babili (babel-minify) ¬∑ Babel</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://babel.qubitpi.org/blog/2016/08/26/babili><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docusaurus_tag content=default><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docsearch:docusaurus_tag content=default><meta data-rh=true property=og:title content="Babili (babel-minify) ¬∑ Babel"><meta data-rh=true name=description content="We released Babili as beta (0.0.1) a few days ago under an MIT license!"><meta data-rh=true property=og:description content="We released Babili as beta (0.0.1) a few days ago under an MIT license!"><meta data-rh=true property=og:type content=article><meta data-rh=true property=article:published_time content=2016-08-30T10:50:00.000Z><meta data-rh=true property=article:author content=https://twitter.com/left_pad><link data-rh=true rel=icon href=/img/favicon.png><link data-rh=true rel=canonical href=https://babel.qubitpi.org/blog/2016/08/26/babili><link data-rh=true rel=alternate href=https://babel.qubitpi.org/blog/2016/08/26/babili hreflang=en><link data-rh=true rel=alternate href=https://babel.qubitpi.org/blog/2016/08/26/babili hreflang=x-default><link data-rh=true rel=preconnect href=https://M7KGJDK6WF-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://babel.qubitpi.org/blog/2016/08/26/babili","@type":"BlogPosting","author":{"@type":"Person","name":"Henry Zhu","url":"https://twitter.com/left_pad"},"datePublished":"2016-08-30T10:50:00.000Z","description":"We released Babili as beta (0.0.1) a few days ago under an MIT license!","headline":"Babili (babel-minify)","isPartOf":{"@id":"https://babel.qubitpi.org/blog","@type":"Blog","name":"Blog"},"keywords":[],"mainEntityOfPage":"https://babel.qubitpi.org/blog/2016/08/26/babili","name":"Babili (babel-minify)","url":"https://babel.qubitpi.org/blog/2016/08/26/babili"}</script><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Babel RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Babel Atom Feed"><link rel=search type=application/opensearchdescription+xml title=Babel href=/opensearch.xml><script src=https://unpkg.com/@babel/standalone@^7.0.0/babel.min.js defer></script><script src=/js/components/mini-repl.js type=module></script><script src=/js/components/assumption-repl.js type=module></script><link rel=stylesheet href=/assets/css/styles.2a02e20b.css><script src=/assets/js/runtime~main.9021ef2f.js defer></script><script src=/assets/js/main.ba385853.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/img/babel.svg><link rel=preload as=image href=https://d33wubrfki0l68.cloudfront.net/7a197cfe44548cc1a3f581152af70a3051e11671/78df8/img/babel.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_oPtH href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/babel.svg alt="Babel logo" class="themedComponent_siVc themedComponent--light_hHel"><img src=/img/babel.svg alt="Babel logo" class="themedComponent_siVc themedComponent--dark_yETr"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/docs/>Docs</a><a class="navbar__item navbar__link" href=/setup>Setup</a><a class="navbar__item navbar__link" href=/repl>Try it out</a><a class="navbar__item navbar__link" href=/videos/>Videos</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/blog>Blog</a><div class=navbarSearchContainer_bzqh><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div><a href=https://opencollective.com/babel target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPrP><use href=#theme-svg-external-link /></svg></a><a class="navbar__item navbar__link" href=/team>Team</a><a href=https://github.com/babel/babel target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPrP><use href=#theme-svg-external-link /></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_k9hJ lightToggleIcon_lgto"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_k9hJ darkToggleIcon_U96C"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_k9hJ systemToggleIcon_E5c0"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_MB5r"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_CLW8 thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_DQfJ margin-bottom--md">All Blog Posts</div><div role=group><h3 class=yearGroupHeading_jjLT>2025</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2025/06/30/7.28.0>7.28.0 Released: `babel.config.ts`, explicit resource management, and discard binding proposal</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2025/05/30/babel-8-beta>Announcing Babel 8 Beta</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2025/03/24/7.27.0>7.27.0 Released: better ecosystem alignment</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2024</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2024/10/25/7.26.0>7.26.0 Released: stage 4 features enabled by default, and a new experimental code printer</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2024/07/26/7.25.0>7.25.0 Released: Safari bugfixes and duplicated named capturing groups</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2024/02/28/7.24.0>7.24.0 Released: Decorator updates and JSON modules imports</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2023</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2023/10/16/cve-2023-45133>CVE-2023-45133: Finding an Arbitrary Code Execution Vulnerability In Babel</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2023/09/25/7.23.0>7.23.0 Released: Decorator Metadata and many new `import` features!</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2023/05/26/7.22.0>7.22.0 Released: Explicit Resource Management support and Import Attributes parsing</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2023/02/20/7.21.0>7.21.0 Released: Inline RegExp modifiers, TypeScript 5.0, and Decorators updates</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2022</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2022/10/27/7.20.0>7.20.0 Released: Deno target and TypeScript 4.9</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2022/09/05/7.19.0>7.19.0 Released: Stage 3 decorators and more RegExp features!</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2022/05/19/7.18.0>7.18.0 Released: Destructuring private elements and TypeScript 4.7</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2022/02/02/7.17.0>7.17.0 Released: RegExp 'v' mode and ... ü•Å decorators!</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2021</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/10/29/7.16.0>7.16.0 Released: ESLint 8 and TypeScript 4.5</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/07/26/7.15.0>7.15.0 Released: Hack-style pipelines, TypeScript const enums and Rhino target support</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/05/10/funding-update>Babel is used by millions, so why are we running out of money?</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/04/29/7.14.0>7.14.0 Released: New class features enabled by default, TypeScript 4.3, and better CommonJS interop</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2021/02/22/7.13.0>7.13.0 Released: Records and Tuples, granular compiler assumptions, and top-level targets</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2020</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/10/15/7.12.0>7.12.0 Released: TypeScript 4.1, strings as import/export names, and class static blocks</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/07/30/7.11.0>7.11.0 Released: ECMAScript 2021 support in preset-env, TypeScript 4.0 support, printing config and the future of `babel-eslint`</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/07/13/the-state-of-babel-eslint>The State of babel-eslint</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/05/25/7.10.0>7.10.0 Released: Class Fields in preset-env, '#private in' checks and better React tree-shaking</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/03/16/7.9.0>7.9.0 Released: Smaller preset-env output, Typescript 3.8 support and a new JSX transform</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2020/01/11/7.8.0>7.8.0 Released: ECMAScript 2020, .mjs configuration files and @babel/cli improvements</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2019</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/11/08/babels-funding-plans>Babel's Funding Plans</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/11/05/7.7.0>7.7.0 Released: Error recovery and TypeScript 3.7</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/09/05/7.6.0>7.6.0 Released: Private static accessors and V8 intrinsic syntax</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/07/03/7.5.0>7.5.0 Released: dynamic import and F# pipelines</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/07/02/the-babel-podcast>The Babel Podcast</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/03/19/7.4.0>7.4.0 Released: core-js 3, static private methods and partial application</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2019/01/21/7.3.0>7.3.0 Released: Named capturing groups, private instance accessors and smart pipelines</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2018</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/12/03/7.2.0>7.2.0 Released: Private Instance Methods</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/09/17/7.1.0>7.1.0 Released: Decorators, Private Static Fields</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/09/17/decorators>TC39 Standards Track Decorators in Babel</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/08/27/7.0.0>Babel 7 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/07/27/removing-babels-stage-presets>Removing Babel's Stage Presets</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/07/19/whats-happening-with-the-pipeline-proposal>What's Happening With the Pipeline (|>) Proposal?</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/07/16/announcing-babels-new-partnership-with-trivago>Announcing Babel's New Partnership with trivago!</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2018/06/26/on-consuming-and-publishing-es2015+-packages>On Consuming (and Publishing) ES2015+ Packages</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2017</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/12/27/nearing-the-7.0-release>Nearing the 7.0 Release</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/10/05/babel-turns-three>Babel Turns Three</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/09/12/planning-for-7.0>Planning for 7.0</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/09/11/zero-config-with-babel-macros>Zero-config code transformation with babel-plugin-macros</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/contributing-to-babel-three-lessons-to-remember>Contributing to Babel: Three Lessons to Remember</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/personal-experiences-at-babel-1-a-pr-with-unusually-high-number-of-reviews>Personal Experiences at Babel #1 ‚Äî A PR with Unusually High Number of Reviews</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/08/09/babel-and-summer-of-code>Babel and Summer of Code 2017</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/03/01/upgrade-to-babel-7-for-tool-authors>Upgrade to Babel 7 for Tool Authors (WIP)</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/03/01/upgrade-to-babel-7>Upgrade to Babel 7 (moved)</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2017/02/13/6.23.0>6.23.0 Released</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2016</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/12/07/the-state-of-babel>The State of Babel</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/11/16/6.19.0>6.19.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/10/24/6.18.0>6.18.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/09/28/6.16.0>6.16.0 Released</a><li class=sidebarItem__RMN><a aria-current=page class="sidebarItemLink_Ony9 sidebarItemLinkActive_MJ75" href=/blog/2016/08/26/babili>Babili (babel-minify)</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2016/08/24/6.14.0>6.14.0 Released</a></ul></div><div role=group><h3 class=yearGroupHeading_jjLT>2015</h3><ul class="sidebarItemList_rvuc clean-list"><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/11/03/babel-doctor>Babel Doctor</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/10/31/setting-up-babel-6>Setting up Babel 6</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/10/29/6.0.0>6.0.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/07/07/react-on-es6-plus>React on ES6+</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/05/14/function-bind>Function Bind Syntax</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/03/31/5.0.0>5.0.0 Released</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/02/23/babel-loves-react>Babel &lt;3 React</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/02/15/not-born-to-die>Not Born to Die</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/01/27/2to3>2to3</a><li class=sidebarItem__RMN><a class=sidebarItemLink_Ony9 href=/blog/2015/01/12/6to5-esnext>6to5 + esnext</a></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class=title_Kdtz>Babili (babel-minify)</h1><div class="container_iZB2 margin-vert--md"><time datetime=2016-08-30T10:50:00.000Z>August 30, 2016</time> ¬∑ <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_v1VX"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_W4s3"><div class=avatar__name><a href=https://twitter.com/left_pad target=_blank rel="noopener noreferrer"><span class=authorName_Tejg>Henry Zhu</span></a></div><div class=authorSocials_VbIH></div></div></div></div></div></header><div id=__blog-post-container class=markdown><p>We released <a href=https://github.com/babel/babili target=_blank rel="noopener noreferrer">Babili</a> as beta (0.0.1) a few days ago under an MIT license!</p>
<blockquote>
<p>Try it out in the Babel <a href="http://babeljs.io/repl/#?babili=true&evaluate=false" target=_blank rel="noopener noreferrer">REPL</a> and report any bugs or potential optimizations we can make! There's also a <a href=https://babeljs.slack.com/messages/minify/ target=_blank rel="noopener noreferrer">#minify</a> slack room!</p>
</blockquote>
<p>There are a lot of (valid) questions about why a new minifier is a good idea, so this post should help with that.</p>
<p>TL;DR: Babili can accept ES2015+ input, while current minifiers are mostly limited to ES5, requiring code to be transpiled before minification. This is becoming unnecessary as people begin to ship ES2015 to clients. Babili is also modular/flexible (being a <a href=http://babeljs.io/docs/plugins/#presets target=_blank rel="noopener noreferrer">Babel preset</a> means it supports user plugins) and can be used as a preset or CLI tool. Babili will also be able to make ES2015+ specific optimizations.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=pronunciation>Pronunciation<a href=#pronunciation class=hash-link aria-label="Direct link to Pronunciation" title="Direct link to Pronunciation">‚Äã</a></h2>
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>Shell</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token plain"># sounds like "bah billy" or "Babadi" (from DBZ)</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">say Babili</span><br></span></code></pre></div></div>
<p>Babili is Babylon in Akkadian.</p>
<blockquote>
<p>If you can't remember the name, babel-minify works too (made <a href=https://github.com/babel/babili/issues/124 target=_blank rel="noopener noreferrer">an issue</a> for the name).</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=why-minify>Why minify?<a href=#why-minify class=hash-link aria-label="Direct link to Why minify?" title="Direct link to Why minify?">‚Äã</a></h2>
<p>At a basic level, <a href=https://en.wikipedia.org/wiki/Minification_(programming) target=_blank rel="noopener noreferrer">minification</a> removes unnecessary characters from a program without changing its functionality -- things like comments, whitespace, newlines, and extra parentheses. Advanced minification may transform programs into smaller equivalents and remove redundant/unreachable code.</p>
<p>Minification is primarily useful for decreasing the size of the JavaScript payload sent from the server to the client: users will download less code to use your website. Advanced minification can also result in shorter parse time (less code to parse) and in some cases faster runtime (e.g. advanced optimizations like function inlining).</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=current-minifiers>Current minifiers<a href=#current-minifiers class=hash-link aria-label="Direct link to Current minifiers" title="Direct link to Current minifiers">‚Äã</a></h2>
<p>Tools such as <a href=https://github.com/mishoo/UglifyJS2 target=_blank rel="noopener noreferrer">Uglify</a> don't currently support targeting the latest version of ECMAScript (<a href=https://github.com/mishoo/UglifyJS2/issues/448 target=_blank rel="noopener noreferrer">not yet</a>: <a href=https://github.com/mishoo/UglifyJS2/tree/harmony target=_blank rel="noopener noreferrer">harmony branch</a>).</p>
<p>We currently use tools like Babel to compile ES2015 code down to ES5 code to support older browsers. Then we use something like Uglify to cut down on the bundle size.</p>
<p>As browsers implement more ES2015 features and we drop support for older browser versions, there is a sliding window of the version of ECMAScript you write in and the target ECMAScript version you minify to. However since Uglify cannot parse ES2015+, you would still have to compile down to ES5 anyway.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=babili>Babili<a href=#babili class=hash-link aria-label="Direct link to Babili" title="Direct link to Babili">‚Äã</a></h2>
<p>That's where Babili comes in.</p>
<p>Babili is ES2015+ aware because it is built using the Babel toolchain.
It is written as a set of Babel plugins, consumable with the <a href=https://github.com/babel/babili/tree/master/packages/babel-preset-babili target=_blank rel="noopener noreferrer"><code>babili</code> preset</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=example>Example<a href=#example class=hash-link aria-label="Direct link to Example" title="Direct link to Example">‚Äã</a></h2>
<p>Say we're targeting the latest versions of Chrome, Firefox, Edge, and Safari -- all of which support <a href=http://babeljs.io/learn-es2015/#classes target=_blank rel="noopener noreferrer">ES2015 classes</a>. Then, compiling ES2015 classes to a constructor function and prototype methods (ES5) results in more code (and potentially loses any optimizations browsers might have for classes).</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>class</span><span class="token plain"> </span><span class="token class-name" style=color:#eab700>Mangler</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token function" style=color:#4271ae>constructor</span><span class="token punctuation">(</span><span class="token parameter" style=color:#f5871f>program</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token keyword" style=color:#8959a8>this</span><span class="token punctuation">.</span><span class="token property-access">program</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> program</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token comment" style=color:#8e908c>// need this since otherwise Mangler isn't used</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>new</span><span class="token plain"> </span><span class="token class-name" style=color:#eab700>Mangler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre></div></div>
<p>Before, we might run Babel to transpile <a href=http://babeljs.io/docs/plugins/transform-es2015-classes target=_blank rel="noopener noreferrer">the class into a function</a> and run Uglify on the compiled code to send to the browser.</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token comment" style=color:#8e908c>// ES2015 code -> Babel -> Uglify/Babili -> Minified ES5 Code</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>var</span><span class="token plain"> </span><span class="token function-variable function" style=color:#4271ae>a</span><span class="token operator">=</span><span class="token keyword" style=color:#8959a8>function</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>a</span><span class="token punctuation">(</span><span class="token parameter" style=color:#f5871f>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function" style=color:#4271ae>_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword" style=color:#8959a8>this</span><span class="token punctuation">,</span><span class="token plain">a</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword" style=color:#8959a8>this</span><span class="token punctuation">.</span><span class="token property-access">program</span><span class="token operator">=</span><span class="token plain">b</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function" style=color:#4271ae>a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre></div></div>
<p>With Babili, you can just run the minifier which works on ES2015 code.</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token comment" style=color:#8e908c>// ES2015 code -> Babili -> Minified ES2015 Code</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>class</span><span class="token plain"> </span><span class="token class-name" style=color:#eab700>a</span><span class="token punctuation">{</span><span class="token function" style=color:#4271ae>constructor</span><span class="token punctuation">(</span><span class="token parameter" style=color:#f5871f>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword" style=color:#8959a8>this</span><span class="token punctuation">.</span><span class="token property-access">program</span><span class="token operator">=</span><span class="token plain">b</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword" style=color:#8959a8>new</span><span class="token plain"> </span><span class="token class-name" style=color:#eab700>a</span><span class="token punctuation">;</span><br></span></code></pre></div></div>
<p>Also it's important to note that this isn't specific to ES2015. Because Babel updates as ECMAScript updates (with <a href=http://babeljs.io/docs/plugins/#official-presets target=_blank rel="noopener noreferrer">ES2015, ES2016, and now ES2017</a>) and follows the proposal process for experimental features (with our <a href=http://babeljs.io/docs/plugins/#stage-x-experimental-presets target=_blank rel="noopener noreferrer">stage-x presets</a>), the minifier should be able to output whatever version of ECMAScript that is supported.</p>
<p>In the future, we might make use of the ES2015+ syntax information we have at compile time (e.g. we know that given function is an arrow function or that a given binding is block-scoped etc) to do advanced optimizations. And we can make use of the knowledge that we're targeting an ES2015+ environment in creative ways.</p>
<p>We're just getting started so let us know if you have any ideas!</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=some-of-the-plugins><a href=https://github.com/babel/babili#plugins-in-babel-preset-babili target=_blank rel="noopener noreferrer">Some of the Plugins</a><a href=#some-of-the-plugins class=hash-link aria-label="Direct link to some-of-the-plugins" title="Direct link to some-of-the-plugins">‚Äã</a></h3>
<p>To give an idea of some of the transforms:</p>
<p><a href=https://github.com/babel/babili/tree/master/packages/babel-plugin-minify-constant-folding target=_blank rel="noopener noreferrer">babel-plugin-minify-constant-folding</a>:</p>
<p>Tries to evaluate expressions and inline the result. For now only deals with numbers and strings.</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token number" style=color:#f5871f>2</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>3</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token string" style=color:#718c00>"b"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> a </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"c"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"d"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> g </span><span class="token operator">+</span><span class="token plain"> z </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"f"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"h"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"z"</span><br></span></code></pre></div></div>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token number" style=color:#f5871f>6</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token string" style=color:#718c00>"b"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> a </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"cd"</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> g </span><span class="token operator">+</span><span class="token plain"> z </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"fhz"</span><span class="token punctuation">;</span><br></span></code></pre></div></div>
<p><a href=https://github.com/babel/babili/tree/master/packages/babel-plugin-minify-mangle-names target=_blank rel="noopener noreferrer">babel-plugin-minify-mangle-names</a>:</p>
<p>Context- and scope- aware variable renaming.</p>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>var</span><span class="token plain"> globalVariableName </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>42</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>function</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword" style=color:#8959a8>var</span><span class="token plain"> longLocalVariableName </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>1</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword control-flow" style=color:#8959a8>if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">longLocalVariableName</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token console class-name" style=color:#eab700>console</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>log</span><span class="token punctuation">(</span><span class="token plain">longLocalVariableName</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre></div></div>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>var</span><span class="token plain"> globalVariableName </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>42</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>function</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword" style=color:#8959a8>var</span><span class="token plain"> a </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number" style=color:#f5871f>1</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword control-flow" style=color:#8959a8>if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token console class-name" style=color:#eab700>console</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>log</span><span class="token punctuation">(</span><span class="token plain">a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=usage>Usage<a href=#usage class=hash-link aria-label="Direct link to Usage" title="Direct link to Usage">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=babel-preset>Babel Preset<a href=#babel-preset class=hash-link aria-label="Direct link to Babel Preset" title="Direct link to Babel Preset">‚Äã</a></h3>
<p>If you already use Babel, you can just add the <a href=https://github.com/babel/babili#babel-preset target=_blank rel="noopener noreferrer"><code>babili</code></a> preset (<code>babel-preset-babili</code>) to your config.</p>
<p>You will want to enable this only in production, so use the <a href=http://babeljs.io/docs/usage/babelrc/#env-option target=_blank rel="noopener noreferrer">env option</a> which uses either <code>process.env.BABEL_ENV</code> or <code>process.env.NODE_ENV</code></p>
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>Shell</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token plain">$ npm install babel-preset-babili --save-dev</span><br></span></code></pre></div></div>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token comment" style=color:#8e908c>// previous .babelrc</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token string-property property">"presets"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string" style=color:#718c00>"es2015"</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token comment" style=color:#8e908c>// .babelrc</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token string-property property">"presets"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string" style=color:#718c00>"es2015"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token string-property property">"env"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token string-property property">"production"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">      </span><span class="token string-property property">"presets"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string" style=color:#718c00>"babili"</span><span class="token punctuation">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre></div></div>
<p>One issue with using Babili as a preset is that then Babili would only run per-file rather than on the whole bundle. Minification usually happens after bundling as with the "UglifyJsPlugin" in webpack. However, running it after bundling
would lose the speed benefits (needs to be measured) of doing the transpiling/minification in the same step. Again, this is something we need to think about: how to integrate or pass more information to the bundler.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=babili-cli>Babili CLI<a href=#babili-cli class=hash-link aria-label="Direct link to Babili CLI" title="Direct link to Babili CLI">‚Äã</a></h3>
<p>If you don't use Babel, you can use our standalone CLI tool <a href=https://github.com/babel/babili#cli target=_blank rel="noopener noreferrer"><code>babili</code></a>. (Currently it's just a wrapper for <code>babel-cli</code> + the preset). You could run this after transpiling (or not) in place of Uglify.</p>
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>Shell</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token plain">$ npm install babili --save-dev</span><br></span></code></pre></div></div>
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>Shell</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token plain">$ babili src -d lib</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"># equivalent to</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"># babel src -d lib --presets=babili --no-babelrc</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id=webpack>Webpack<a href=#webpack class=hash-link aria-label="Direct link to Webpack" title="Direct link to Webpack">‚Äã</a></h3>
<p>You can just use the preset with <a href=https://github.com/babel/babel-loader target=_blank rel="noopener noreferrer"><code>babel-loader</code></a>.</p>
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>Shell</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token plain">$ npm install babel-core babel-loader babel-preset-babili</span><br></span></code></pre></div></div>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token literal-property property">module</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token literal-property property">loaders</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">      </span><span class="token literal-property property">test</span><span class="token operator">:</span><span class="token plain"> </span><span class="token regex regex-delimiter" style=color:#3e999f>/</span><span class="token regex regex-source language-regex special-escape escape" style=color:#3e999f>\.</span><span class="token regex regex-source language-regex" style=color:#3e999f>js</span><span class="token regex regex-source language-regex anchor function" style=color:#4271ae>$</span><span class="token regex regex-delimiter" style=color:#3e999f>/</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">      </span><span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style=color:#718c00>'babel'</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">      </span><span class="token literal-property property">query</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">        </span><span class="token literal-property property">presets</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string" style=color:#718c00>'babili'</span><span class="token punctuation">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre></div></div>
<p>Or use it separately with the <a href=https://github.com/boopathi/babili-webpack-plugin target=_blank rel="noopener noreferrer">babili-webpack-plugin</a> (made by <a href=https://github.com/boopathi/ target=_blank rel="noopener noreferrer">@boopathi</a>, who also works on Babili).</p>
<div class="language-shell codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>Shell</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-shell codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token plain">$ npm install babili-webpack-plugin --save-dev</span><br></span></code></pre></div></div>
<div class="language-js codeBlockContainer_mQmQ theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_kY6l>JavaScript</div><div class=codeBlockContent_t_Hd><pre tabindex=0 class="prism-code language-js codeBlock_RMoD thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_AclH><span class=token-line style=color:#4d4d4c><span class="token comment" style=color:#8e908c>// webpack.config.js</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token keyword" style=color:#8959a8>const</span><span class="token plain"> </span><span class="token maybe-class-name">BabiliPlugin</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style=color:#4271ae>require</span><span class="token punctuation">(</span><span class="token string" style=color:#718c00>"babili-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">module</span><span class="token punctuation">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>//...,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token literal-property property">output</span><span class="token operator">:</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>//...,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token keyword" style=color:#8959a8>new</span><span class="token plain"> </span><span class="token class-name" style=color:#eab700>BabiliPlugin</span><span class="token punctuation">(</span><span class="token plain">options</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre></div></div>
<p>We want to have a better story with integration with Webpack/bundlers in the near future! Also check out <a href=https://github.com/babel/babili/issues/100 target=_blank rel="noopener noreferrer">#100</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=proscons>Pros/Cons<a href=#proscons class=hash-link aria-label="Direct link to Pros/Cons" title="Direct link to Pros/Cons">‚Äã</a></h2>
<p><strong>Uglify Pros</strong></p>
<ul>
<li>
<p>No change to existing tooling if you are already minifying.</p>
</li>
<li>
<p>Battle-tested/production ready (it's been around for years and has wide adoption (we are all using it)!</p>
</li>
<li>
<p>It's super fast and outputs small code already.</p>
</li>
</ul>
<p><strong>Uglify Cons</strong></p>
<ul>
<li>
<p>Custom parser/tooling, so it's difficult to output/minify ES2015+ and make changes.</p>
</li>
<li>
<p>Not modular, and currently no way to create own plugins/minification strategies outside of core.</p>
</li>
</ul>
<p><strong>Babili Pros:</strong></p>
<ul>
<li>
<p>ES2015+ aware (nothing special needs to be done because we can use the babylon parser) and Babel will update as standards/browsers update.</p>
</li>
<li>
<p>Uses the existing Babel toolchain, can consume as a Babel preset or standalone.</p>
</li>
<li>
<p>Potential for custom smart transforms for React/Flow, etc.</p>
</li>
<li>
<p>Could use Flow/Typescript annotations to enable advanced minification.</p>
</li>
<li>
<p>Each minification step can be split into its own plugin, and there‚Äôs plenty of options for customization. This makes it easier to contribute and to find/submit issues for specific problems. It also means that people can independently create their own experimental plugins before upstreaming them into core.</p>
<ul>
<li>For example: <a href=https://github.com/babel/babili/tree/master/packages/babel-plugin-transform-minify-booleans target=_blank rel="noopener noreferrer">this</a> just turns <code>true</code> into <code>!0</code> which is straightforward to write.</li>
</ul>
</li>
<li>
<p>Should be an easy transition if people are familiar with transpiling with Babel already.</p>
</li>
</ul>
<p><strong>Babili Cons:</strong></p>
<ul>
<li>
<p>We released it early, so there aren't many users yet. Early adopters will have to deal with a tool that isn't as battle-tested as Uglify at first.</p>
</li>
<li>
<p>Right now, the performance is worse/size is worse than Uglify on our benchmark tests. However, this is something we'll be focusing on improving.</p>
</li>
</ul>
<p>TL;DR: Babili should be able to keep up with the ECMAScript standard as new features get added as well as target the environments you need to support. It has a lot of potential: it may not be as production-ready as Uglify at the moment since it was just released but as we continue to optimize with more users it should be more than capable.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id=how-to-help>How to Help<a href=#how-to-help class=hash-link aria-label="Direct link to How to Help" title="Direct link to How to Help">‚Äã</a></h2>
<p><a href=https://twitter.com/amasad target=_blank rel="noopener noreferrer">Amjad</a> had been working on this project for a while but we decided to release it earlier as a beta to allow the community to test it out and both contribute through reporting bugs and patches.</p>
<p>It's still early days for this project so there's a lot to help out with! Our next priority is to make Babili more stable/robust for a 1.0.0 release.</p>
<p>We will be working to get it as fast and produce code sizes as small as Uglify/<a href=https://github.com/google/closure-compiler target=_blank rel="noopener noreferrer">Closure Compiler</a> in simple mode.</p>
<ul>
<li><strong>Testing on more codebases</strong>: This will help everyone greatly. Because a minifier runs on all code it has potential for a lot of edge cases/bugs not covered in our basic unit tests. Hopefully we can setup a way to report issues easily; now that the <a href=https://babeljs.io/repl/ target=_blank rel="noopener noreferrer">repl</a> supports the minifier it should be easier to reproduce/link bugs. In the future we want options to enable specific plugins so we can pinpoint minimal reproduction steps.</li>
<li><strong>Project infrastructure/maintenance</strong>: We want to create more robust benchmarking, setup integration tests on popular open source projects (run the minifier, and then run all the project's unit tests).</li>
<li><strong>Check the output</strong>: If something can be more simplified, it should be straightforward to create an issue and suggest a new transformation to an existing plugin or create a new one. We have the benefit of being modular so anyone can also make their own plugins and then we can figure out whether to include them in the core preset.</li>
</ul>
<p>Huge thanks to <a href=https://github.com/amasad target=_blank rel="noopener noreferrer">Amjad (@amasad)</a> for starting this project and Facebook for allowing us to release this under the Babel organization as an MIT licensed project! <a href=https://github.com/kittens target=_blank rel="noopener noreferrer">Sebastian (@kittens)</a> was obviously a big part of this given this wouldn't have been possible without Babel. Also thanks to <a href=https://github.com/thejameskyle target=_blank rel="noopener noreferrer">James (@thejameskyle)</a>, <a href=https://github.com/kangax target=_blank rel="noopener noreferrer">Juriy (@kangax)</a> for helping see this through to release! Also want to give a shoutout to <a href=https://github.com/boopathi target=_blank rel="noopener noreferrer">Boopathi (@boopathi)</a> who we invited to help us out after seeing the work on his own <a href=https://github.com/boopathi/babel-minify target=_blank rel="noopener noreferrer">babel-minify</a> project!</div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href=/blog/2016/09/28/6.16.0><div class=pagination-nav__sublabel>Newer post</div><div class=pagination-nav__label>6.16.0 Released</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/blog/2016/08/24/6.14.0><div class=pagination-nav__sublabel>Older post</div><div class=pagination-nav__label>6.14.0 Released</div></a></nav></main><div class="col col--2"><div class="tableOfContents_XG6w thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#pronunciation class="table-of-contents__link toc-highlight">Pronunciation</a><li><a href=#why-minify class="table-of-contents__link toc-highlight">Why minify?</a><li><a href=#current-minifiers class="table-of-contents__link toc-highlight">Current minifiers</a><li><a href=#babili class="table-of-contents__link toc-highlight">Babili</a><li><a href=#example class="table-of-contents__link toc-highlight">Example</a><ul><li><a href=#some-of-the-plugins class="table-of-contents__link toc-highlight">Some of the Plugins</a></ul><li><a href=#usage class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href=#babel-preset class="table-of-contents__link toc-highlight">Babel Preset</a><li><a href=#babili-cli class="table-of-contents__link toc-highlight">Babili CLI</a><li><a href=#webpack class="table-of-contents__link toc-highlight">Webpack</a></ul><li><a href=#proscons class="table-of-contents__link toc-highlight">Pros/Cons</a><li><a href=#how-to-help class="table-of-contents__link toc-highlight">How to Help</a></ul></div></div></div></div></div><footer class=nav-footer id=footer><section class=sitemap><a class=nav-home href=/><img src=https://d33wubrfki0l68.cloudfront.net/7a197cfe44548cc1a3f581152af70a3051e11671/78df8/img/babel.svg alt=Babel width=66 height=58></a><div><h5>Docs</h5><a href=/docs/learn>Learn ES2015</a></div><div><h5>Community</h5><a href=/videos>Videos</a><a href=/users>User Showcase</a><a href=http://stackoverflow.com/questions/tagged/babeljs target=_blank rel="noopener noreferrer">Stack Overflow</a><a href=https://babeljs.slack.com/ target=_blank rel="noopener noreferrer">Slack Channel</a><a href=https://x.com/babeljs target=_blank rel="noopener noreferrer">X (Twitter)</a><a href=https://bsky.app/profile/babel.dev target=_blank rel="noopener noreferrer">Bluesky</a></div><div><h5>More</h5><a href=/blog>Blog</a><a href=https://github.com/babel target=_blank rel="noopener noreferrer">GitHub Org</a><a href=https://github.com/babel/babel target=_blank rel="noopener noreferrer">GitHub Repo</a><a href=https://github.com/babel/website target=_blank rel="noopener noreferrer">Website Repo</a><a href=https://old.babeljs.io target=_blank rel="noopener noreferrer">Old 6.x Site</a><a href=http://henryzoo.com/babel.github.io target=_blank rel="noopener noreferrer">Old 5.x Site</a></div></section></footer></div>