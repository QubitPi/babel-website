"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8680],{35318:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return b}});var a=n(27378);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),s=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=s(n),d=r,b=u["".concat(l,".").concat(d)]||u[d]||m[d]||i;return n?a.createElement(b,p(p({ref:t},c),{},{components:n})):a.createElement(b,p({ref:t},c))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,p=new Array(i);p[0]=d;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[u]="string"==typeof e?e:r,p[1]=o;for(var s=2;s<i;s++)p[s]=n[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},93426:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return b},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return u}});var a=n(25773),r=n(30808),i=(n(27378),n(35318)),p=["components"],o={id:"babel-plugin-proposal-pipeline-operator",title:"@babel/plugin-proposal-pipeline-operator",sidebar_label:"pipeline-operator"},l=void 0,s={unversionedId:"babel-plugin-proposal-pipeline-operator",id:"babel-plugin-proposal-pipeline-operator",title:"@babel/plugin-proposal-pipeline-operator",description:"Installation",source:"@site/../docs/plugin-proposal-pipeline-operator.md",sourceDirName:".",slug:"/babel-plugin-proposal-pipeline-operator",permalink:"/babel-website/docs/babel-plugin-proposal-pipeline-operator",draft:!1,editUrl:"https://github.com/babel/website/edit/main/docs/../docs/plugin-proposal-pipeline-operator.md",tags:[],version:"current",frontMatter:{id:"babel-plugin-proposal-pipeline-operator",title:"@babel/plugin-proposal-pipeline-operator",sidebar_label:"pipeline-operator"},sidebar:"plugins",previous:{title:"partial-application",permalink:"/babel-website/docs/babel-plugin-proposal-partial-application"},next:{title:"private-methods",permalink:"/babel-website/docs/babel-plugin-proposal-private-methods"}},c={},u=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Examples",id:"examples",level:3},{value:"With a configuration file (recommended)",id:"with-a-configuration-file-recommended",level:3},{value:"Via CLI",id:"via-cli",level:3},{value:"Via Node API",id:"via-node-api",level:3}],m={toc:u},d="wrapper";function b(e){var t=e.components,n=(0,r.Z)(e,p);return(0,i.kt)(d,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh",metastring:'title="Shell"',title:'"Shell"'},"$ npm install --save-dev @babel/plugin-proposal-pipeline-operator\n")),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("p",null,"The pipeline operator has several competing proposals.\nConfigure which proposal to use with the required ",(0,i.kt)("inlineCode",{parentName:"p"},'"proposal"')," option.\nIts value is ",(0,i.kt)("inlineCode",{parentName:"p"},'"hack"')," by default."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Proposal"),(0,i.kt)("th",{parentName:"tr",align:null},"Version added"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("del",{parentName:"td"},(0,i.kt)("inlineCode",{parentName:"del"},'"minimal"'))),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/tc39/proposal-pipeline-operator/"},"Minimal F#-style pipes")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"v7.0.0"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("del",{parentName:"td"},(0,i.kt)("inlineCode",{parentName:"del"},'"fsharp"'))),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/valtech-nyc/proposal-fsharp-pipelines"},"F#-style pipes with ",(0,i.kt)("inlineCode",{parentName:"a"},"await"))),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"v7.5.0"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"hack"')),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/js-choi/proposal-hack-pipes"},"Hack-style pipes")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"v7.15.0"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("del",{parentName:"td"},(0,i.kt)("inlineCode",{parentName:"del"},'"smart"'))),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://github.com/js-choi/proposal-smart-pipelines"},"Smart-mix pipes")," (deprecated)"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"v7.3.0"))))),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},'"proposal"')," is omitted, or if ",(0,i.kt)("inlineCode",{parentName:"p"},'"proposal": "hack"')," is used, then a ",(0,i.kt)("inlineCode",{parentName:"p"},'"topicToken": "^^"'),", ",(0,i.kt)("inlineCode",{parentName:"p"},'"topicToken": "^"'),", or ",(0,i.kt)("inlineCode",{parentName:"p"},'"topicToken": "#"')," option must also be included."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},'"proposal": "minimal"'),", ",(0,i.kt)("inlineCode",{parentName:"p"},'"fsharp"'),", and ",(0,i.kt)("inlineCode",{parentName:"p"},'"smart"')," options are ",(0,i.kt)("strong",{parentName:"p"},"deprecated")," and subject to removal in a future major version."),(0,i.kt)("h3",{id:"examples"},"Examples"),(0,i.kt)("p",null,"The following examples use ",(0,i.kt)("inlineCode",{parentName:"p"},'topicToken: "^^"'),"."),(0,i.kt)("p",null,"From ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/facebook/react/blob/17.0.2/scripts/jest/jest-cli.js"},"react/scripts/jest/jest-cli.js"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="JavaScript"',title:'"JavaScript"'},"// Status quo\nconsole.log(\n  chalk.dim(\n    `$ ${Object.keys(envars)\n      .map(envar => `${envar}=${envars[envar]}`)\n      .join(' ')}`,\n    'node',\n    args.join(' ')\n  )\n);\n\n// With pipes\nObject.keys(envars)\n  .map(envar => `${envar}=${envars[envar]}`)\n  .join(' ')\n  |> `$ ${^^}`\n  |> chalk.dim(^^, 'node', args.join(' '))\n  |> console.log(^^);\n")),(0,i.kt)("p",null,"From ","[jquery/src/core/init.js][]","."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="JavaScript"',title:'"JavaScript"'},"// Status quo\njQuery.merge( this, jQuery.parseHTML(\n  match[ 1 ],\n  context && context.nodeType ? context.ownerDocument || context : document,\n  true\n) );\n\n// With pipes\ncontext\n  |> (^^ && ^^.nodeType ? ^^.ownerDocument || ^^ : document)\n  |> jQuery.parseHTML(match[1], ^^, true)\n  |> jQuery.merge(^^);\n")),(0,i.kt)("p",null,"[jquery/src/core/init.js]",": ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/jquery/jquery/blob/2.2-stable/src/core/init.js"},"https://github.com/jquery/jquery/blob/2.2-stable/src/core/init.js")),(0,i.kt)("p",null,"(For a summary of deprecated proposal modes\u2019 behavior, see the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/tc39/proposal-pipeline-operator/wiki#overview-of-previous-proposals"},"pipe wiki\u2019s table of previous proposals"),".)"),(0,i.kt)("h3",{id:"with-a-configuration-file-recommended"},"With a configuration file (recommended)"),(0,i.kt)("p",null,"With ",(0,i.kt)("inlineCode",{parentName:"p"},"^^")," topic token:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="babel.config.json"',title:'"babel.config.json"'},'{\n  "plugins": [\n    ["@babel/plugin-proposal-pipeline-operator", { "topicToken": "^^" }]\n  ]\n}\n')),(0,i.kt)("p",null,"With ",(0,i.kt)("inlineCode",{parentName:"p"},"@@")," topic token:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="babel.config.json"',title:'"babel.config.json"'},'{\n  "plugins": [\n    ["@babel/plugin-proposal-pipeline-operator", { "topicToken": "@@" }]\n  ]\n}\n')),(0,i.kt)("h3",{id:"via-cli"},"Via CLI"),(0,i.kt)("p",null,"Because this plugin requires a configuration option, it ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/babel/babel/issues/4161"},"cannot be directly configured from the CLI"),". Use a ",(0,i.kt)("a",{parentName:"p",href:"/babel-website/docs/config-files"},"config file")," instead with the CLI, to add and configure this plugin."),(0,i.kt)("h3",{id:"via-node-api"},"Via Node API"),(0,i.kt)("p",null,"With ",(0,i.kt)("inlineCode",{parentName:"p"},"^^")," topic token:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="JavaScript"',title:'"JavaScript"'},'require("@babel/core").transformSync("code", {\n  plugins: [\n    [ "@babel/plugin-proposal-pipeline-operator", { topicToken: "^^" } ],\n  ],\n});\n')),(0,i.kt)("p",null,"With ",(0,i.kt)("inlineCode",{parentName:"p"},"@@")," topic token:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="JavaScript"',title:'"JavaScript"'},'require("@babel/core").transformSync("code", {\n  plugins: [\n    [ "@babel/plugin-proposal-pipeline-operator", { topicToken: "@@" } ],\n  ],\n});\n')))}b.isMDXComponent=!0}}]);