"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7910],{35318:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return b}});var n=a(27378);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=p(a),m=r,b=c["".concat(s,".").concat(m)]||c[m]||d[m]||l;return a?n.createElement(b,o(o({ref:t},u),{},{components:a})):n.createElement(b,o({ref:t},u))}));function b(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},39798:function(e,t,a){a.d(t,{Z:function(){return o}});var n=a(27378),r=a(38944),l={tabItem:"tabItem_wHwb"};function o(e){var t=e.children,a=e.hidden,o=e.className;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(l.tabItem,o),hidden:a},t)}},23930:function(e,t,a){a.d(t,{Z:function(){return y}});var n=a(25773),r=a(27378),l=a(38944),o=a(83457),i=a(3620),s=a(30654),p=a(70784),u=a(71819);function c(e){return function(e){return r.Children.map(e,(function(e){if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')}))}(e).map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes,default:t.default}}))}function d(e){var t=e.values,a=e.children;return(0,r.useMemo)((function(){var e=null!=t?t:c(a);return function(e){var t=(0,p.l)(e,(function(e,t){return e.value===t.value}));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,a])}function m(e){var t=e.value;return e.tabValues.some((function(e){return e.value===t}))}function b(e){var t=e.queryString,a=void 0!==t&&t,n=e.groupId,l=(0,i.k6)(),o=function(e){var t=e.queryString,a=void 0!==t&&t,n=e.groupId;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:a,groupId:n});return[(0,s._X)(o),(0,r.useCallback)((function(e){if(o){var t=new URLSearchParams(l.location.search);t.set(o,e),l.replace(Object.assign({},l.location,{search:t.toString()}))}}),[o,l])]}function f(e){var t,a,n,l,o=e.defaultValue,i=e.queryString,s=void 0!==i&&i,p=e.groupId,c=d(e),f=(0,r.useState)((function(){return function(e){var t,a=e.defaultValue,n=e.tabValues;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!m({value:a,tabValues:n}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+a+'" but none of its children has the corresponding value. Available values are: '+n.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return a}var r=null!=(t=n.find((function(e){return e.default})))?t:n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:o,tabValues:c})})),g=f[0],k=f[1],v=b({queryString:s,groupId:p}),h=v[0],N=v[1],y=(t=function(e){return e?"docusaurus.tab."+e:null}({groupId:p}.groupId),a=(0,u.Nk)(t),n=a[0],l=a[1],[n,(0,r.useCallback)((function(e){t&&l.set(e)}),[t,l])]),C=y[0],w=y[1],E=function(){var e=null!=h?h:C;return m({value:e,tabValues:c})?e:null}();return(0,r.useLayoutEffect)((function(){E&&k(E)}),[E]),{selectedValue:g,selectValue:(0,r.useCallback)((function(e){if(!m({value:e,tabValues:c}))throw new Error("Can't select invalid tab value="+e);k(e),N(e),w(e)}),[N,w,c]),tabValues:c}}var g=a(76457),k={tabList:"tabList_J5MA",tabItem:"tabItem_l0OV"};function v(e){var t=e.className,a=e.block,i=e.selectedValue,s=e.selectValue,p=e.tabValues,u=[],c=(0,o.o5)().blockElementScrollPositionUntilNextRender,d=function(e){var t=e.currentTarget,a=u.indexOf(t),n=p[a].value;n!==i&&(c(t),s(n))},m=function(e){var t,a=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":var n,r=u.indexOf(e.currentTarget)+1;a=null!=(n=u[r])?n:u[0];break;case"ArrowLeft":var l,o=u.indexOf(e.currentTarget)-1;a=null!=(l=u[o])?l:u[u.length-1]}null==(t=a)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},t)},p.map((function(e){var t=e.value,a=e.label,o=e.attributes;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,key:t,ref:function(e){return u.push(e)},onKeyDown:m,onClick:d},o,{className:(0,l.Z)("tabs__item",k.tabItem,null==o?void 0:o.className,{"tabs__item--active":i===t})}),null!=a?a:t)})))}function h(e){var t=e.lazy,a=e.children,n=e.selectedValue;if(a=Array.isArray(a)?a:[a],t){var l=a.find((function(e){return e.props.value===n}));return l?(0,r.cloneElement)(l,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},a.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n})})))}function N(e){var t=f(e);return r.createElement("div",{className:(0,l.Z)("tabs-container",k.tabList)},r.createElement(v,(0,n.Z)({},e,t)),r.createElement(h,(0,n.Z)({},e,t)))}function y(e){var t=(0,g.Z)();return r.createElement(N,(0,n.Z)({key:String(t)},e))}},6898:function(e,t,a){a.r(t),a.d(t,{assets:function(){return d},contentTitle:function(){return u},default:function(){return g},frontMatter:function(){return p},metadata:function(){return c},toc:function(){return m}});var n=a(25773),r=a(30808),l=(a(27378),a(35318)),o=a(23930),i=a(39798),s=["components"],p={id:"babel-plugin-proposal-decorators",title:"@babel/plugin-proposal-decorators",sidebar_label:"decorators"},u=void 0,c={unversionedId:"babel-plugin-proposal-decorators",id:"babel-plugin-proposal-decorators",title:"@babel/plugin-proposal-decorators",description:"Example",source:"@site/../docs/plugin-proposal-decorators.md",sourceDirName:".",slug:"/babel-plugin-proposal-decorators",permalink:"/babel-website/docs/babel-plugin-proposal-decorators",draft:!1,editUrl:"https://github.com/babel/website/edit/main/docs/../docs/plugin-proposal-decorators.md",tags:[],version:"current",frontMatter:{id:"babel-plugin-proposal-decorators",title:"@babel/plugin-proposal-decorators",sidebar_label:"decorators"},sidebar:"plugins",previous:{title:"async-do-expressions",permalink:"/babel-website/docs/babel-plugin-proposal-async-do-expressions"},next:{title:"do-expressions",permalink:"/babel-website/docs/babel-plugin-proposal-do-expressions"}},d={},m=[{value:"Example",id:"example",level:2},{value:"Simple class decorator",id:"simple-class-decorator",level:3},{value:"Class decorator",id:"class-decorator",level:3},{value:"Class function decorator",id:"class-function-decorator",level:3},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"With a configuration file (Recommended)",id:"with-a-configuration-file-recommended",level:3},{value:"Via CLI",id:"via-cli",level:3},{value:"Via Node API",id:"via-node-api",level:3},{value:"Options",id:"options",level:2},{value:"<code>version</code>",id:"version",level:3},{value:"<code>decoratorsBeforeExport</code>",id:"decoratorsbeforeexport",level:3},{value:"<code>legacy</code>",id:"legacy",level:3},{value:"NOTE: Compatibility with <code>@babel/plugin-proposal-class-properties</code>",id:"note-compatibility-with-babelplugin-proposal-class-properties",level:4},{value:"References",id:"references",level:2}],b={toc:m},f="wrapper";function g(e){var t=e.components,a=(0,r.Z)(e,s);return(0,l.kt)(f,(0,n.Z)({},b,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"example"},"Example"),(0,l.kt)("p",null,"(examples are from proposal)"),(0,l.kt)("h3",{id:"simple-class-decorator"},"Simple class decorator"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="JavaScript"',title:'"JavaScript"'},"@annotation\nclass MyClass {}\n\nfunction annotation(target) {\n  target.annotated = true;\n}\n")),(0,l.kt)("h3",{id:"class-decorator"},"Class decorator"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="JavaScript"',title:'"JavaScript"'},"@isTestable(true)\nclass MyClass {}\n\nfunction isTestable(value) {\n  return function decorator(target) {\n    target.isTestable = value;\n  };\n}\n")),(0,l.kt)("h3",{id:"class-function-decorator"},"Class function decorator"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="JavaScript"',title:'"JavaScript"'},"class C {\n  @enumerable(false)\n  method() {}\n}\n\nfunction enumerable(value) {\n  return function(target, key, descriptor) {\n    descriptor.enumerable = value;\n    return descriptor;\n  };\n}\n")),(0,l.kt)("h2",{id:"installation"},"Installation"),(0,l.kt)(o.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,l.kt)(i.Z,{value:"npm",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npm install --save-dev @babel/plugin-proposal-decorators\n"))),(0,l.kt)(i.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add --dev @babel/plugin-proposal-decorators\n")))),(0,l.kt)("h2",{id:"usage"},"Usage"),(0,l.kt)("h3",{id:"with-a-configuration-file-recommended"},"With a configuration file (Recommended)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="babel.config.json"',title:'"babel.config.json"'},'{\n  "plugins": ["@babel/plugin-proposal-decorators"]\n}\n')),(0,l.kt)("h3",{id:"via-cli"},"Via CLI"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh",metastring:'title="Shell"',title:'"Shell"'},"babel --plugins @babel/plugin-proposal-decorators script.js\n")),(0,l.kt)("h3",{id:"via-node-api"},"Via Node API"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="JavaScript"',title:'"JavaScript"'},'require("@babel/core").transformSync("code", {\n  plugins: ["@babel/plugin-proposal-decorators"],\n});\n')),(0,l.kt)("h2",{id:"options"},"Options"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"History"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Version"),(0,l.kt)("th",{parentName:"tr",align:null},"Changes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"v7.21.0")),(0,l.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,l.kt)("inlineCode",{parentName:"td"},'version: "2023-01"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"v7.19.0")),(0,l.kt)("td",{parentName:"tr",align:null},"Added support for ",(0,l.kt)("inlineCode",{parentName:"td"},'version: "2022-03"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"v7.17.0")),(0,l.kt)("td",{parentName:"tr",align:null},"Added the ",(0,l.kt)("inlineCode",{parentName:"td"},"version")," option with support for ",(0,l.kt)("inlineCode",{parentName:"td"},'"2021-12"'),", ",(0,l.kt)("inlineCode",{parentName:"td"},'"2018-09"')," and ",(0,l.kt)("inlineCode",{parentName:"td"},'"legacy"')))))),(0,l.kt)("h3",{id:"version"},(0,l.kt)("inlineCode",{parentName:"h3"},"version")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},'"2023-01"'),", ",(0,l.kt)("inlineCode",{parentName:"p"},'"2022-03"'),", ",(0,l.kt)("inlineCode",{parentName:"p"},'"2021-12"'),", ",(0,l.kt)("inlineCode",{parentName:"p"},'"2018-09"')," or ",(0,l.kt)("inlineCode",{parentName:"p"},'"legacy"'),"."),(0,l.kt)("p",null,"Selects the decorators proposal to use:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},'"2023-01"')," is the proposal version after the updates that reached consensus in the January 2023 TC39 meeting, integrating ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/pzuraq/ecma262/pull/4"},(0,l.kt)("inlineCode",{parentName:"a"},"pzuraq/ecma262#4")),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},'"2022-03"')," is the proposal version that reached consensus for Stage 3 in the March 2022 TC39 meeting. You can read more about it at ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/tc39/proposal-decorators/tree/8ca65c046dd5e9aa3846a1fe5df343a6f7efd9f8"},(0,l.kt)("inlineCode",{parentName:"a"},"tc39/proposal-decorators@8ca65c046d")),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},'"2021-12"')," is the proposal version as it was presented to TC39 in Dec 2021. You can read more about it at ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/tc39/proposal-decorators/tree/d6c056fa061646178c34f361bad33d583316dc85"},(0,l.kt)("inlineCode",{parentName:"a"},"tc39/proposal-decorators@d6c056fa06")),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},'"2018-09"')," is the proposal version that was initially promoted to Stage 2 presented to TC39 in Sept 2018.  You can read more about it at ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/tc39/proposal-decorators/tree/7fa580b40f2c19c561511ea2c978e307ae689a1b"},(0,l.kt)("inlineCode",{parentName:"a"},"tc39/proposal-decorators@7fa580b40f")),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"legacy")," is the original Stage 1 proposal, defined at ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/wycats/javascript-decorators/blob/e1bf8d41bfa2591d949dd3bbf013514c8904b913/README.md"},(0,l.kt)("inlineCode",{parentName:"a"},"wycats/javascript-decorators@e1bf8d41bf")),".")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f If you specify the ",(0,l.kt)("inlineCode",{parentName:"p"},"decoratorsBeforeExport")," option, ",(0,l.kt)("inlineCode",{parentName:"p"},"version")," defaults to ",(0,l.kt)("inlineCode",{parentName:"p"},'"2018-09"'),".")),(0,l.kt)("h3",{id:"decoratorsbeforeexport"},(0,l.kt)("inlineCode",{parentName:"h3"},"decoratorsBeforeExport")),(0,l.kt)("p",null,"This option:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"is disallowed when using ",(0,l.kt)("inlineCode",{parentName:"li"},'version: "legacy"'),", ",(0,l.kt)("inlineCode",{parentName:"li"},'version: "2022-03"'),", or ",(0,l.kt)("inlineCode",{parentName:"li"},'version: "2023-01"'),";"),(0,l.kt)("li",{parentName:"ul"},"is required when using ",(0,l.kt)("inlineCode",{parentName:"li"},'version: "2018-09"'),";"),(0,l.kt)("li",{parentName:"ul"},"is optional and defaults to ",(0,l.kt)("inlineCode",{parentName:"li"},"false")," when using ",(0,l.kt)("inlineCode",{parentName:"li"},'version: "2021-12"'),".")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"boolean")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="JavaScript"',title:'"JavaScript"'},"// decoratorsBeforeExport: false\nexport @decorator class Bar {}\n\n// decoratorsBeforeExport: true\n@decorator\nexport class Foo {}\n")),(0,l.kt)("p",null,"This option was originally added to help tc39 collect feedback from the community by allowing experimentation with the proposed syntaxes. The proposal has now settled on allowing decorators either before or after ",(0,l.kt)("inlineCode",{parentName:"p"},"export"),"."),(0,l.kt)("h3",{id:"legacy"},(0,l.kt)("inlineCode",{parentName:"h3"},"legacy")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("strong",{parentName:"p"},"\u26a0\ufe0f DEPRECATED"),": Use ",(0,l.kt)("inlineCode",{parentName:"p"},'version: "legacy"')," instead. This option is a legacy alias.")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"boolean"),", defaults to ",(0,l.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,l.kt)("p",null,"Use the legacy (stage 1) decorators syntax and behavior."),(0,l.kt)("h4",{id:"note-compatibility-with-babelplugin-proposal-class-properties"},"NOTE: Compatibility with ",(0,l.kt)("inlineCode",{parentName:"h4"},"@babel/plugin-proposal-class-properties")),(0,l.kt)("p",null,"If you are including your plugins manually and using ",(0,l.kt)("inlineCode",{parentName:"p"},"@babel/plugin-proposal-class-properties")," and legacy decorators, make sure that ",(0,l.kt)("inlineCode",{parentName:"p"},"@babel/plugin-proposal-decorators")," comes ",(0,l.kt)("em",{parentName:"p"},"before")," ",(0,l.kt)("inlineCode",{parentName:"p"},"@babel/plugin-proposal-class-properties"),"."),(0,l.kt)("p",null,"Wrong:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="babel.config.json"',title:'"babel.config.json"'},'{\n  "plugins": [\n    "@babel/plugin-proposal-class-properties",\n    ["@babel/plugin-proposal-decorators", { "version": "legacy" }]\n  ]\n}\n')),(0,l.kt)("p",null,"Right:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="babel.config.json"',title:'"babel.config.json"'},'{\n  "plugins": [\n    ["@babel/plugin-proposal-decorators", { "version": "legacy" }],\n    "@babel/plugin-proposal-class-properties"\n  ]\n}\n')),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"You can read more about configuring plugin options ",(0,l.kt)("a",{parentName:"p",href:"https://babeljs.io/docs/en/plugins#plugin-options"},"here"))),(0,l.kt)("h2",{id:"references"},"References"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/wycats/javascript-decorators/blob/master/README.md"},"Proposal: JavaScript Decorators"))))}g.isMDXComponent=!0}}]);