"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9462],{35318:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return f}});var r=n(27378);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=r.createContext({}),u=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(o.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},b=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(n),b=i,f=c["".concat(o,".").concat(b)]||c[b]||d[b]||a;return n?r.createElement(f,l(l({ref:t},p),{},{components:n})):r.createElement(f,l({ref:t},p))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,l=new Array(a);l[0]=b;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[c]="string"==typeof e?e:i,l[1]=s;for(var u=2;u<a;u++)l[u]=n[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}b.displayName="MDXCreateElement"},28851:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return o},default:function(){return f},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return c}});var r=n(25773),i=n(30808),a=(n(27378),n(35318)),l=["components"],s={id:"babel-helper-plugin-utils",title:"@babel/helper-plugin-utils",sidebar_label:"helper-plugin-utils"},o=void 0,u={unversionedId:"babel-helper-plugin-utils",id:"babel-helper-plugin-utils",title:"@babel/helper-plugin-utils",description:"This is not aiming to implement APIs that are missing on a given Babel version,",source:"@site/../docs/helper-plugin-utils.md",sourceDirName:".",slug:"/babel-helper-plugin-utils",permalink:"/babel-website/docs/babel-helper-plugin-utils",draft:!1,editUrl:"https://github.com/babel/website/edit/main/docs/../docs/helper-plugin-utils.md",tags:[],version:"current",frontMatter:{id:"babel-helper-plugin-utils",title:"@babel/helper-plugin-utils",sidebar_label:"helper-plugin-utils"}},p={},c=[{value:"Usage",id:"usage",level:2},{value:"What this does",id:"what-this-does",level:2},{value:"<code>options</code> is always passed",id:"options-is-always-passed",level:3},{value:"<code>api.assertVersion</code> always exists",id:"apiassertversion-always-exists",level:3}],d={toc:c},b="wrapper";function f(e){var t=e.components,n=(0,i.Z)(e,l);return(0,a.kt)(b,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This is not aiming to implement APIs that are missing on a given Babel version,\nbut it is means to provide clear error messages if a plugin is run on a version\nof Babel that doesn't have the APIs that the plugin is trying to use."),(0,a.kt)("p",null,"Every one of Babel's core plugins and presets will use this module, and ideally\nbecause of that its size should be kept to a minimum because this may or may\nnot be deduplicated when installed."),(0,a.kt)("h2",{id:"usage"},"Usage"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="example-babel-plugin.js"',title:'"example-babel-plugin.js"'},'import { declare } from "@babel/helper-plugin-utils";\n\nexport default declare((api, options, dirname) => {\n  return {};\n});\n')),(0,a.kt)("h2",{id:"what-this-does"},"What this does"),(0,a.kt)("p",null,"Currently, this plugin provides a few services to ensure that plugins function\nwell-enough to throw useful errors."),(0,a.kt)("h3",{id:"options-is-always-passed"},(0,a.kt)("inlineCode",{parentName:"h3"},"options")," is always passed"),(0,a.kt)("p",null,"Babel 6 does not pass a second parameter. This frequently means that plugins\nwritten for Babel 7 that use ",(0,a.kt)("inlineCode",{parentName:"p"},"options")," will attempt to destructure options\nout of an ",(0,a.kt)("inlineCode",{parentName:"p"},"undefined")," value. By supplying the default, we avoid that risk."),(0,a.kt)("h3",{id:"apiassertversion-always-exists"},(0,a.kt)("inlineCode",{parentName:"h3"},"api.assertVersion")," always exists"),(0,a.kt)("p",null,"Babel 6 and early betas of Babel 7 do not have ",(0,a.kt)("inlineCode",{parentName:"p"},"assertVersion"),", so this\nwrapper ensures that it exists and throws a useful error message when not\nsupplied by Babel itself."))}f.isMDXComponent=!0}}]);