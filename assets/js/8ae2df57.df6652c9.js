"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["642"],{67979:function(e,s,n){n.r(s),n.d(s,{default:()=>d,frontMatter:()=>i,metadata:()=>t,assets:()=>l,toc:()=>c,contentTitle:()=>o});var t=JSON.parse('{"id":"presets","title":"Presets","description":"Babel presets can act as sharable set of Babel plugins and/or config options.","source":"@site/../docs/presets.md","sourceDirName":".","slug":"/presets","permalink":"/docs/presets","draft":false,"unlisted":false,"editUrl":"https://github.com/babel/website/edit/main/docs/../docs/presets.md","tags":[],"version":"current","frontMatter":{"id":"presets","title":"Presets"},"sidebar":"docs","previous":{"title":"Compiler assumptions","permalink":"/docs/assumptions"},"next":{"title":"@babel/preset-env","permalink":"/docs/babel-preset-env"}}'),r=n("85893"),a=n("50065");let i={id:"presets",title:"Presets"},o=void 0,l={},c=[{value:"Official Presets",id:"official-presets",level:2},{value:"Other Integrations",id:"other-integrations",level:2},{value:"Using a Preset",id:"using-a-preset",level:2},{value:"Stage-X (Experimental Presets)",id:"stage-x-experimental-presets",level:2},{value:"Creating a Preset",id:"creating-a-preset",level:2},{value:"Preset Ordering",id:"preset-ordering",level:2},{value:"Preset Options",id:"preset-options",level:2}];function p(e){let s={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["Babel presets can act as sharable set of Babel plugins and/or config ",(0,r.jsx)(s.a,{href:"/docs/options",children:(0,r.jsx)(s.code,{children:"options"})}),"."]}),"\n",(0,r.jsx)(s.h2,{id:"official-presets",children:"Official Presets"}),"\n",(0,r.jsx)(s.p,{children:"We've assembled a few presets for common environments:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/babel-preset-env",children:"@babel/preset-env"})," for compiling ES2015+ syntax"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/babel-preset-typescript",children:"@babel/preset-typescript"})," for ",(0,r.jsx)(s.a,{href:"https://www.typescriptlang.org",children:"TypeScript"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/babel-preset-react",children:"@babel/preset-react"})," for ",(0,r.jsx)(s.a,{href:"https://reactjs.org/",children:"React"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/babel-preset-flow",children:"@babel/preset-flow"})," for ",(0,r.jsx)(s.a,{href:"https://flow.org/",children:"Flow"})]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"other-integrations",children:"Other Integrations"}),"\n",(0,r.jsxs)(s.p,{children:["If you aren't using Babel directly, the framework you are using may have its own configuration for you to use or extend. Many other community maintained presets are available ",(0,r.jsx)(s.a,{href:"https://www.npmjs.com/search?q=babel-preset",children:"on npm"}),"!"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"https://nextjs.org/docs/advanced-features/customizing-babel-config",children:"Next.js"})," | ",(0,r.jsx)(s.a,{href:"https://nuxtjs.org/docs/2.x/configuration-glossary/configuration-build#babel",children:"Nuxt.js"})," | ",(0,r.jsx)(s.a,{href:"https://en.parceljs.org/javascript.html#babel",children:"Parcel"})," | ",(0,r.jsx)(s.a,{href:"https://jestjs.io/docs/getting-started#using-babel",children:"Jest"})," | ",(0,r.jsx)(s.a,{href:"https://www.gatsbyjs.com/docs/how-to/custom-configuration/babel",children:"Gatsby"})]}),"\n",(0,r.jsx)("div",{id:"preset-paths"}),"\n",(0,r.jsx)(s.h2,{id:"using-a-preset",children:"Using a Preset"}),"\n",(0,r.jsxs)(s.p,{children:["Within a Babel config, if the preset is on ",(0,r.jsx)(s.a,{href:"https://www.npmjs.com/search?q=babel-preset",children:"npm"}),", you can pass in the name of the preset and Babel will check that it's installed in ",(0,r.jsx)(s.code,{children:"node_modules"})," already. This is added to the ",(0,r.jsx)(s.a,{href:"/docs/options#presets",children:"presets"})," config option, which takes an array."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",metastring:'title="babel.config.json"',children:'{\n  "presets": ["babel-preset-myPreset", "@babel/preset-env"]\n}\n'})}),"\n",(0,r.jsx)(s.p,{children:"Otherwise, you can also specify a relative or absolute path to your presets."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",metastring:'title="babel.config.json"',children:'{\n  "presets": ["./myProject/myPreset"]\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["See ",(0,r.jsx)(s.a,{href:"/docs/options#name-normalization",children:"name normalization"})," for more specifics on configuring the path of a plugin or preset."]}),"\n",(0,r.jsx)(s.h2,{id:"stage-x-experimental-presets",children:"Stage-X (Experimental Presets)"}),"\n",(0,r.jsx)(s.admonition,{title:"Deprecated",type:"danger",children:(0,r.jsxs)(s.p,{children:["As of Babel 7, we've decided to deprecate the Stage-X presets and stop publishing them. Because these proposals are inherently subject to change, it seems better to ask users to specify individual proposals as plugins vs. a catch all preset that you would need to check up on anyway. Check out our ",(0,r.jsx)("a",{href:"https://babeljs.io/blog/2018/07/27/removing-babels-stage-presets",children:"blog"})," for more context."]})}),"\n",(0,r.jsx)(s.p,{children:"Any transforms in stage-x presets are changes to the language that haven't been approved to be part of a release of JavaScript (such as ES6/ES2015)."}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.a,{href:"https://github.com/tc39",children:"TC39"})," categorizes proposals into the following stages:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/babel-preset-stage-0",children:"Stage 0"})," - Strawman: just an idea, possible Babel plugin."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/babel-preset-stage-1",children:"Stage 1"})," - Proposal: this is worth working on."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/babel-preset-stage-2",children:"Stage 2"})," - Draft: initial spec."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/docs/babel-preset-stage-3",children:"Stage 3"})," - Candidate: complete spec and initial browser implementations."]}),"\n",(0,r.jsx)(s.li,{children:"Stage 4 - Finished: will be added to the next yearly release."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["For more information, be sure to check out the ",(0,r.jsx)(s.a,{href:"https://github.com/tc39/proposals",children:"current TC39 proposals"})," and its ",(0,r.jsx)(s.a,{href:"https://tc39.github.io/process-document",children:"process document"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["The TC39 stage process is also explained in detail across a few posts by Yehuda Katz (@wycatz) over at ",(0,r.jsx)(s.a,{href:"https://thefeedbackloop.xyz",children:"thefeedbackloop.xyz"}),": ",(0,r.jsx)(s.a,{href:"https://thefeedbackloop.xyz/tc39-a-process-sketch-stages-0-and-1/",children:"Stage 0 and 1"}),", ",(0,r.jsx)(s.a,{href:"https://thefeedbackloop.xyz/tc39-process-sketch-stage-2/",children:"Stage 2"}),", ",(0,r.jsx)(s.a,{href:"https://thefeedbackloop.xyz/tc39-process-sketch-stage-3/",children:"Stage 3"})]}),"\n",(0,r.jsx)(s.h2,{id:"creating-a-preset",children:"Creating a Preset"}),"\n",(0,r.jsx)(s.p,{children:"To make your own preset (either for local usage or to npm), you need to export a config object."}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"It could just return an array of plugins.."}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-js",metastring:'title="JavaScript"',children:'module.exports = function() {\n  return {\n    plugins: ["pluginA", "pluginB", "pluginC"],\n  };\n};\n'})}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Presets can contain other presets, and plugins with options."}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-js",metastring:'title="JavaScript"',children:'module.exports = () => ({\n  presets: [require("@babel/preset-env")],\n  plugins: [\n    [require("@babel/plugin-transform-class-properties"), { loose: true }],\n    require("@babel/plugin-transform-object-rest-spread"),\n  ],\n});\n'})}),"\n",(0,r.jsxs)(s.p,{children:["For more info, check out the ",(0,r.jsx)(s.a,{href:"https://github.com/thejameskyle/babel-handbook/blob/master/translations/en/user-handbook.md#making-your-own-preset",children:"babel handbook"})," section on presets."]}),"\n",(0,r.jsx)(s.h2,{id:"preset-ordering",children:"Preset Ordering"}),"\n",(0,r.jsx)(s.p,{children:"Preset ordering is reversed (last to first)."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",metastring:'title="babel.config.json"',children:'{\n  "presets": ["a", "b", "c"]\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Will run in the following order: ",(0,r.jsx)(s.code,{children:"c"}),", ",(0,r.jsx)(s.code,{children:"b"}),", then ",(0,r.jsx)(s.code,{children:"a"}),"."]}),"\n",(0,r.jsx)(s.p,{children:'This was mostly for ensuring backwards compatibility, since most users listed "es2015" before "stage-0".'}),"\n",(0,r.jsx)(s.h2,{id:"preset-options",children:"Preset Options"}),"\n",(0,r.jsx)(s.p,{children:"Both plugins and presets can have options specified by wrapping the name and an options object in an array inside your config."}),"\n",(0,r.jsx)(s.p,{children:"For specifying no options, these are all equivalent:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",metastring:'title="babel.config.json"',children:'{\n  "presets": [\n    "presetA", // bare string\n    ["presetA"], // wrapped in array\n    ["presetA", {}] // 2nd argument is an empty options object\n  ]\n}\n'})}),"\n",(0,r.jsx)(s.p,{children:"To specify an option, pass an object with the keys as the option names."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",metastring:'title="babel.config.json"',children:'{\n  "presets": [\n    [\n      "@babel/preset-env",\n      {\n        "loose": true,\n        "modules": false\n      }\n    ]\n  ]\n}\n'})})]})}function d(e={}){let{wrapper:s}={...(0,a.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},50065:function(e,s,n){n.d(s,{Z:function(){return o},a:function(){return i}});var t=n(67294);let r={},a=t.createContext(r);function i(e){let s=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);