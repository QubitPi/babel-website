<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-v8-migration" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Upgrade to Babel 8 · Babel</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://babel.qubitpi.org/docs/v8-migration><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Upgrade to Babel 8 · Babel"><meta data-rh=true name=description content="This document lists the breaking changes introduced in Babel 8.0.0, and how to adapt your usage of Babel to them when upgrading from Babel 7.0.0."><meta data-rh=true property=og:description content="This document lists the breaking changes introduced in Babel 8.0.0, and how to adapt your usage of Babel to them when upgrading from Babel 7.0.0."><link data-rh=true rel=icon href=/img/favicon.png><link data-rh=true rel=canonical href=https://babel.qubitpi.org/docs/v8-migration><link data-rh=true rel=alternate href=https://babel.qubitpi.org/docs/v8-migration hreflang=en><link data-rh=true rel=alternate href=https://babel.qubitpi.org/docs/v8-migration hreflang=x-default><link data-rh=true rel=preconnect href=https://M7KGJDK6WF-dsn.algolia.net crossorigin=anonymous><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Babel RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Babel Atom Feed"><link rel=search type=application/opensearchdescription+xml title=Babel href=/opensearch.xml><script src=https://unpkg.com/@babel/standalone@^7.0.0/babel.min.js defer></script><script src=/js/components/mini-repl.js type=module></script><script src=/js/components/assumption-repl.js type=module></script><link rel=stylesheet href=/assets/css/styles.b702cdbb.css><script src=/assets/js/runtime~main.03b5d4bb.js defer></script><script src=/assets/js/main.7e1273ed.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":(window.matchMedia("(prefers-color-scheme: light)").matches,"light"),document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/babel.svg alt="Babel logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/babel.svg alt="Babel logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/>Docs</a><a class="navbar__item navbar__link" href=/setup>Setup</a><a href=/repl class="navbar__item navbar__link" target=_top>Try it out</a><a class="navbar__item navbar__link" href=/videos/>Videos</a><a class="navbar__item navbar__link" href=/blog>Blog</a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div><a href=https://opencollective.com/babel target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><a class="navbar__item navbar__link" href=/team>Team</a><a href=https://github.com/babel/babel target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Upgrade to Babel 8</h1></header><p>This document lists the breaking changes introduced in Babel 8.0.0, and how to adapt your usage of Babel to them when upgrading from Babel 7.0.0.</p>
<p>If you are working directly with Babel's API (because, for example, you maintain a custom Babel plugin), please also check the <a href=/docs/v8-migration-api>migration guide for integration</a>.</p>
<blockquote>
<p>If you are upgrading from Babel 6, please check the <a href=/docs/v7-migration>Babel 7 migration guide</a> first.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=getting-ready>Getting ready<a href=#getting-ready class=hash-link aria-label="Direct link to Getting ready" title="Direct link to Getting ready">​</a></h2>
<p>Before migrating to Babel 8, we recommend that you update your Babel 7 configuration to align it with Babel 8's new defaults. Once your build process is working again with Babel 7, you can then upgrade to Babel 8.</p>
<p>You should read this full document to understand what options you need to change and which plugins you need to remove, but here are the most important steps to modernize your config:</p>
<ul>
<li>If you are not using a <code>.browserslistrc</code> file, define a top-level <a href=/docs/options#targets><code>targets</code></a> option. Babel 7 defaults to <code>targets: ">= 0%"</code> (all browsers), while Babel 8 defaults to <a href="https://browsersl.ist/#q=defaults" target=_blank rel="noopener noreferrer"><code>targets: "defaults"</code></a>. If you are using <a href=/docs/babel-preset-env#targets><code>@babel/preset-env</code>'s <code>targets</code></a> option, copy its value to the top-level configuration (next to <code>presets</code>).</li>
<li>If you use <code>@babel/preset-env</code>, enable its <a href=/docs/babel-preset-env#bugfixes><code>bugfixes</code></a> option.</li>
<li>If you use <code>@babel/preset-env</code>'s <code>loose</code> or <code>spec</code> options, <a href=/docs/assumptions#migrating-from-babelpreset-envs-loose-and-spec-modes>migrate to <code>assumptions</code></a>.</li>
<li>If you use <code>@babel/preset-react</code> or <code>@babel/plugin-transform-react-jsx</code>, explicitly set their <a href=/docs/babel-preset-react#runtime><code>runtime</code></a> option (Babel 7 defaults to <code>"classic"</code>, Babel 8 to <code>"automatic"</code>). If you keep using the classic runtime, set the <a href=/docs/babel-plugin-transform-react-jsx#usespread><code>useSpread</code></a> option to <code>true</code>.</li>
<li>If you use the TypeScript or Flow presets, replace the <code>isTSX</code> and <code>allExtensions</code> options with <a href=#babel-preset-typescript><code>ignoreExtensions</code></a>.</li>
<li>If you are transforming TypeScript or Flow, set the <code>allowDeclareFields</code> option to <code>true</code> (see <a href=/docs/babel-preset-typescript#allowdeclarefields>TypeScript</a>).</li>
<li>If you use <a href=/docs/babel-plugin-transform-runtime#corejs><code>@babel/plugin-transform-runtime</code>'s <code>corejs</code></a> or <a href=/docs/babel-preset-env#usebuiltins><code>@babel/preset-env</code>'s <code>useBuiltIns</code></a> options, remove them and use <a href=https://github.com/babel/babel-polyfills/tree/main/packages/babel-plugin-polyfill-corejs3 target=_blank rel="noopener noreferrer"><code>babel-plugin-polyfill-corejs3</code></a> instead.</li>
<li>If you use <code>@babel/plugin-proposal-decorators</code>, set its <a href=/docs/babel-plugin-proposal-decorators#version><code>version</code></a> option to <code>legacy</code> or <code>2023-11</code>.</li>
<li>Remove the <code>@babel/plugin-proposal-record-and-tuple</code> and <code>@babel/plugin-syntax-import-assertions</code> plugins if you are using them.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=all-of-babel>All of Babel<a href=#all-of-babel class=hash-link aria-label="Direct link to All of Babel" title="Direct link to All of Babel">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=nodejs-support>Node.js support<a href=#nodejs-support class=hash-link aria-label="Direct link to Node.js support" title="Direct link to Node.js support">​</a></h3>
<p>All Babel 8 packages require Node.js <code>^20.19.0 || >=22.12.0</code>.</p>
<p>We highly encourage you to use a newer version of Node.js (LTS v22) since the previous versions are not maintained.
See <a href=https://github.com/nodejs/Release target=_blank rel="noopener noreferrer">nodejs/Release</a> for more information.</p>
<p>This just means Babel <em>itself</em> won't run on older versions of Node. It can still <em>output</em> code that runs on old Node versions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=esm-only>ESM only<a href=#esm-only class=hash-link aria-label="Direct link to ESM only" title="Direct link to ESM only">​</a></h3>
<p>Babel is now shipped as native ECMAScript modules (<a href=https://github.com/babel/babel/pull/11701 target=_blank rel="noopener noreferrer">#11701</a>, <a href=https://github.com/babel/babel/pull/17265 target=_blank rel="noopener noreferrer">#17265</a>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=peer-dependency-requirements>Peer dependency requirements<a href=#peer-dependency-requirements class=hash-link aria-label="Direct link to Peer dependency requirements" title="Direct link to Peer dependency requirements">​</a></h3>
<ul>
<li>All presets and plugins require <code>@babel/core@^8.0.0</code> as peer dependency. Some Babel 7 plugins and presets might work with <code>@babel/core@8</code>, and some Babel 8 plugins and presets might work with <code>@babel/core@7</code>, but we do not provide any official support for that.</li>
<li><code>@babel/eslint-parser</code> and <code>@babel/eslint-plugin</code> require <code>eslint@^8.9.0</code> as peer dependency. (<a href=https://github.com/babel/babel/issues/15563 target=_blank rel="noopener noreferrer">#15563</a>)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=renamed-packages>Renamed Packages<a href=#renamed-packages class=hash-link aria-label="Direct link to Renamed Packages" title="Direct link to Renamed Packages">​</a></h2>
<p>The following packages has been renamed from <code>...-proposal-...</code> to <code>...-transform-...</code>, as they have reached Stage 4 (<a href=https://github.com/babel/babel/pull/15614 target=_blank rel="noopener noreferrer">#15614</a>). The rename process has been landed in Babel 7.22 so you can start the migration prior to the upgrade.</p>
<table><thead><tr><th>Babel 7<th>Babel 8<tbody><tr><td><code>@babel/plugin-proposal-async-generator-functions</code><td><code>@babel/plugin-transform-async-generator-functions</code><tr><td><code>@babel/plugin-proposal-class-properties</code><td><code>@babel/plugin-transform-class-properties</code><tr><td><code>@babel/plugin-proposal-class-static-block</code><td><code>@babel/plugin-transform-class-static-block</code><tr><td><code>@babel/plugin-proposal-duplicate-named-capturing-groups-regex</code><td><code>@babel/plugin-transform-duplicate-named-capturing-groups-regex</code><tr><td><code>@babel/plugin-proposal-dynamic-import</code><td><code>@babel/plugin-transform-dynamic-import</code><tr><td><code>@babel/plugin-proposal-explicit-resource-management</code><td><code>@babel/plugin-transform-explicit-resource-management</code><tr><td><code>@babel/plugin-proposal-export-namespace-from</code><td><code>@babel/plugin-transform-export-namespace-from</code><tr><td><code>@babel/plugin-proposal-json-strings</code><td><code>@babel/plugin-transform-json-strings</code><tr><td><code>@babel/plugin-proposal-logical-assignment-operators</code><td><code>@babel/plugin-transform-logical-assignment-operators</code><tr><td><code>@babel/plugin-proposal-nullish-coalescing-operator</code><td><code>@babel/plugin-transform-nullish-coalescing-operator</code><tr><td><code>@babel/plugin-proposal-numeric-separator</code><td><code>@babel/plugin-transform-numeric-separator</code><tr><td><code>@babel/plugin-proposal-object-rest-spread</code><td><code>@babel/plugin-transform-object-rest-spread</code><tr><td><code>@babel/plugin-proposal-optional-catch-binding</code><td><code>@babel/plugin-transform-optional-catch-binding</code><tr><td><code>@babel/plugin-proposal-optional-chaining</code><td><code>@babel/plugin-transform-optional-chaining</code><tr><td><code>@babel/plugin-proposal-private-methods</code><td><code>@babel/plugin-transform-private-methods</code><tr><td><code>@babel/plugin-proposal-private-property-in-object</code><td><code>@babel/plugin-transform-private-property-in-object</code><tr><td><code>@babel/plugin-proposal-unicode-property-regex</code><td><code>@babel/plugin-transform-unicode-property-regex</code></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=discontinued-packages>Discontinued Packages<a href=#discontinued-packages class=hash-link aria-label="Direct link to Discontinued Packages" title="Direct link to Discontinued Packages">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-runtime-corejs2><code>@babel/runtime-corejs2</code><a href=#babel-runtime-corejs2 class=hash-link aria-label="Direct link to babel-runtime-corejs2" title="Direct link to babel-runtime-corejs2">​</a></h3>
<p><code>core-js@2</code> has not been maintained for years, and you should switch to <code>core-js@3</code> instead.</p>
<p>Please upgrade to <code>@babel/runtime-corejs3</code> (<a href=https://github.com/babel/babel/issues/10746#issuecomment-573402372 target=_blank rel="noopener noreferrer">#11751</a>). After
you install the new runtime, please set the <a href=/docs/babel-plugin-transform-runtime#corejs><code>corejs</code> version</a> to the <code>core-js</code> version that you are using.</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>babel.config.json</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> {</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   "plugins": [</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829>     ["@babel/transform-runtime", { corejs: 2 }]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>     "@babel/transform-runtime",</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>     ["babel-plugin-polyfill-corejs3", { method: "usage-pure", version: "3.42.0" }]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   ]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> }</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-plugin-syntax-import-assertions><code>@babel/plugin-syntax-import-assertions</code><a href=#babel-plugin-syntax-import-assertions class=hash-link aria-label="Direct link to babel-plugin-syntax-import-assertions" title="Direct link to babel-plugin-syntax-import-assertions">​</a></h3>
<p>The proposal evolved into <a href=https://github.com/tc39/proposal-import-attributes target=_blank rel="noopener noreferrer">import attributes</a>, which now Babel supports parsing by default. You can remove <code>@babel/plugin-syntax-import-assertions</code> from your config, and  replace the following patterns in your codebase:</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>input.js</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829> import value from "module" assert { type: "json" };</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00> import value from "module" with { type: "json" };</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-plugin-proposal-record-and-tuple><code>@babel/plugin-proposal-record-and-tuple</code><a href=#babel-plugin-proposal-record-and-tuple class=hash-link aria-label="Direct link to babel-plugin-proposal-record-and-tuple" title="Direct link to babel-plugin-proposal-record-and-tuple">​</a></h3>
<p>The Records and Tuples proposal has been withdrawn in TC39, which means that the syntax is not on track anymore to be included in the language.</p>
<p>You will need to migrate away from the Records and Tuples syntax, and you can directly use the <a href=https://github.com/bloomberg/record-tuple-polyfill target=_blank rel="noopener noreferrer"><code>@bloomberg/record-tuple-polyfill</code></a> polyfill as if it was a standalone library.</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>input.mjs</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00> import { Record, Tuple } from "@bloomberg/record-tuple-polyfill"</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">// syntaxType: "hash"</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829> #{ p: "value" }</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00> Record({ p: "value" })</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829> #[0, 1, 2]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00> Tuple(0, 1, 2)</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">// syntaxType: "bar"</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829> {| p: "value" |}</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00> Record({ p: "value" })</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829> [|0, 1, 2|]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00> Tuple(0, 1, 2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>If you have to do a large scale migration. You can run Babel 7 with only the <code>@babel/plugin-proposal-record-and-tuple</code> plugin to transform the code base:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>babel.record-tuple-migration.config.json</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token property">"babelrc"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style=color:#f5871f>false</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token property">"configFile"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style=color:#f5871f>false</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token property">"generateOpts"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token property">"experimental_preserveFormat"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style=color:#f5871f>true</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token property">"retainLines"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style=color:#f5871f>true</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token property">"tokens"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style=color:#f5871f>true</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token property">"parserOpts"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token property">"createParenthesizedExpressions"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style=color:#f5871f>true</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token property">"plugins"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token string" style=color:#718c00>"@babel/plugin-syntax-jsx"</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token string" style=color:#718c00>"@babel/plugin-syntax-typescript"</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token comment" style=color:#8e908c>// or syntaxType: "bar" if you are using `{||}` or `[||]`</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token punctuation">[</span><span class="token string" style=color:#718c00>"@babel/plugin-proposal-record-and-tuple"</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">      </span><span class="token property">"syntaxType"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"hash"</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token property">"importPolyfill"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style=color:#f5871f>true</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>And then run <code>@babel/cli@7</code> to transform the input source <code>src</code>, this command will output the transformed source to <code>src-mod</code>:</p>
<div class="tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">npm<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">Yarn<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">pnpm</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token plain">npx @babel/cli@7 --config-file ./babel.record-tuple-migration.config.json src --out-lib src-mod</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_Ymn6 hidden><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token plain">yarn dlx @babel/cli@7 --config-file ./babel.record-tuple-migration.config.json src --out-lib src-mod</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><div role=tabpanel class=tabItem_Ymn6 hidden><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token plain">pnpm dlx @babel/cli@7 --config-file ./babel.record-tuple-migration.config.json src --out-lib src-mod</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div></div>
<p>Please manually check whether <code>src-mod</code> is correct. If everything looks good, overwrite <code>src</code> with contents in <code>src-mod</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=syntax-plugins>Syntax plugins<a href=#syntax-plugins class=hash-link aria-label="Direct link to Syntax plugins" title="Direct link to Syntax plugins">​</a></h3>
<p>The following syntax plugins are no longer needed, you can safely remove them from your configuration and dependencies:</p>
<ul>
<li><code>@babel/plugin-syntax-async-functions</code></li>
<li><code>@babel/plugin-syntax-async-generators</code></li>
<li><code>@babel/plugin-syntax-bigint</code></li>
<li><code>@babel/plugin-syntax-class-properties</code></li>
<li><code>@babel/plugin-syntax-class-static-block</code></li>
<li><code>@babel/plugin-syntax-dynamic-import</code></li>
<li><code>@babel/plugin-syntax-exponentiation-operator</code></li>
<li><code>@babel/plugin-syntax-export-extensions</code></li>
<li><code>@babel/plugin-syntax-export-namespace-from</code></li>
<li><code>@babel/plugin-syntax-import-meta</code></li>
<li><code>@babel/plugin-syntax-json-strings</code></li>
<li><code>@babel/plugin-syntax-logical-assignment-operators</code></li>
<li><code>@babel/plugin-syntax-module-string-names</code></li>
<li><code>@babel/plugin-syntax-nullish-coalescing-operator</code></li>
<li><code>@babel/plugin-syntax-numeric-separator</code></li>
<li><code>@babel/plugin-syntax-object-rest-spread</code></li>
<li><code>@babel/plugin-syntax-optional-catch-binding</code></li>
<li><code>@babel/plugin-syntax-optional-chaining</code></li>
<li><code>@babel/plugin-syntax-private-property-in-object</code></li>
<li><code>@babel/plugin-syntax-top-level-await</code></li>
<li><code>@babel/plugin-syntax-trailing-function-commas</code></li>
<li><code>@babel/plugin-syntax-unicode-sets-regex</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=per-package-breaking-changes>Per-package breaking changes<a href=#per-package-breaking-changes class=hash-link aria-label="Direct link to Per-package breaking changes" title="Direct link to Per-package breaking changes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-core><code>@babel/core</code><a href=#babel-core class=hash-link aria-label="Direct link to babel-core" title="Direct link to babel-core">​</a></h3>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-high-red.svg alt=high class=img_ev3q></p>
<ul>
<li>
<p>Use browserslist's <code>defaults</code> as default compilation target (<a href=https://github.com/babel/babel/pull/12989 target=_blank rel="noopener noreferrer">#12989</a>, <a href=https://github.com/babel/babel/pull/15551 target=_blank rel="noopener noreferrer">#15551</a>).</p>
<p>If you are already using the <code>targets</code> option or have a <code>.browserslistrc</code> config file, this change won't affect you.</p>
<p><strong>Migration</strong>: You'll probably be fine with the new behavior since the <a href="https://browsersl.ist/#q=defaults" target=_blank rel="noopener noreferrer">browserslist's <code>defaults</code> covers most modern browsers</a>. If you need to support legacy browsers, create a <a href=https://github.com/browserslist/browserslist#queries target=_blank rel="noopener noreferrer"><code>.browserslistrc</code> config</a>, or specify the <a href=https://babeljs.io/docs/options#targets target=_blank rel="noopener noreferrer"><code>targets</code></a> option.</p>
</li>
</ul>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg alt=medium class=img_ev3q></p>
<ul>
<li>
<p>The root AMD/UMD/SystemJS options, namely <a href=/docs/options#moduleids><code>moduleIds</code></a>, <a href=/docs/options#getmoduleid><code>getModuleId</code></a>, <a href=/docs/options#moduleroot><code>moduleRoot</code></a>, <a href=/docs/options#moduleid><code>moduleId</code></a> and <a href=/docs/options#filenamerelative><code>filenameRelative</code></a> are moved to plugin options (<a href=https://github.com/babel/babel/issues/5473 target=_blank rel="noopener noreferrer">#5473</a>, <a href=https://github.com/babel/babel/pull/12724 target=_blank rel="noopener noreferrer">#12724</a>).</p>
<p><strong>Migration</strong>: Move these options to the plugin you are using to transform modules. For example, if you are using
<code>@babel/plugin-transform-modules-systemjs</code>:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>babel.config.js</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-js codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token plain">module</span><span class="token punctuation">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token punctuation">[</span><span class="token string" style=color:#718c00>'@babel/plugin-transform-modules-systemjs'</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#4d4d4c><span class="token plain">      </span><span class="token literal-property property">moduleIds</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style=color:#f5871f>true</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#4d4d4c><span class="token plain">      </span><span class="token literal-property property">moduleRoot</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style=color:#718c00>'myApp'</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#4d4d4c><span class="token plain">      </span><span class="token function" style=color:#4271ae>getModuleId</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter" style=color:#f5871f>name</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#4d4d4c><span class="token plain">        </span><span class="token keyword control-flow" style=color:#8959a8>return</span><span class="token plain"> name </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"suffix"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style=color:#4d4d4c><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Adapt the example above if you are using <code>@babel/plugin-transform-modules-amd</code> or <code>@babel/plugin-transform-modules-umd</code>. You can start the migration prior to Babel 8.0.</p>
<p>If you are using <code>@babel/cli</code> and passing <code>--module-ids</code>, <code>--module-root</code> and <code>--module-id</code> from command line, please create a Babel config <code>babel.config.js</code> and specify options there.</p>
<p>If you are transforming ESM through <code>@babel/preset-env</code>, you will need to explicitly use one of the <code>@babel/plugin-transform-modules-...</code> plugins.</p>
</li>
<li>
<p><code>targets.esmodules: true</code> option now behaves as same as <code>targets.esmodules: "intersect"</code> (<a href=https://github.com/babel/babel/pull/17188 target=_blank rel="noopener noreferrer">#17188</a>)</p>
<p><strong>Migration</strong>: In Babel 7, specifying <code>esmodules: true</code> will override the <code>browsers</code> target or <code>browserslist</code>'s targets, while specifying <code>"intersect"</code> will intersect with such targets.</p>
<p>If your app targets modern browsers released after 2019, you can safely remove the <code>esmodules</code> option as they all support ES modules.</p>
<p>If your app targets legacy browsers such as IE, you can also remove the <code>esmodules</code> option as IE requires more transforms than any other browser.</p>
<p>If your app targets browsers released before 2019 and you want to preserve the Babel 7 <code>esmodules: true</code> behavior, remove the <code>esmodules</code> option and set the following <code>browsers</code> target:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>babel.config.json</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token property">"targets"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token property">"browsers"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"chrome 61, firefox 60, safari 10.1, node 13.2"</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
<li>
<p>Remove <code>uglify</code> target (<a href=https://github.com/babel/babel/pull/12594 target=_blank rel="noopener noreferrer">#12594</a>)</p>
<p><strong>Migration</strong>: The <code>uglify</code> target had been deprecated since 7.0.0. If you are using it to force <code>@babel/preset-env</code> to transpile down to ES5 and you still need to do so, you can use its <a href=/docs/babel-preset-env#forcealltransforms><code>forceAllTransforms</code></a> option.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-parser><code>@babel/parser</code><a href=#babel-parser class=hash-link aria-label="Direct link to babel-parser" title="Direct link to babel-parser">​</a></h3>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg alt=medium class=img_ev3q></p>
<ul>
<li>
<p>Remove the <code>estree</code> parser plugin's <code>classFeatures</code>  option (<a href=https://github.com/babel/babel/pull/13752 target=_blank rel="noopener noreferrer">#13752</a>)</p>
<p><strong>Migration</strong>: Remove the option from your config, since it's now enabled by default. Previously the <code>classFeatures</code> plugin enables <code>@babel/parser</code> to produce class properties AST compatible with ESLint 8, following the ESTree specification. In Babel 8 the <code>eslint-parser</code> only works with ESLint 8 and above.</p>
</li>
<li>
<p>Remove the <code>decimal</code> parser plugin (<a href=https://github.com/babel/babel/pull/16741 target=_blank rel="noopener noreferrer">#16741</a>)</p>
<p><strong>Migration</strong>: Migrate your project to the latest proposal and remove the plugin from your config since the proposal doesn't include syntax anymore.</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>example.js</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829> 1.03m</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00> new Decimal("1.03")</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829> decimal1 + decimal2</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00> decimal1.add(decimal2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
<li>
<p>Remove the <code>importAssertions</code> parser plugin (<a href=https://github.com/babel/babel/pull/16770 target=_blank rel="noopener noreferrer">#16770</a>)</p>
<p>This plugin was for an old version of the import attributes proposal, using the <code>assert</code> keyword instead of <code>with</code>. The proposal moved ahead without the <code>assert</code> keyword.</p>
<p><strong>Migration</strong>: If possible, replace <code>assert</code> with <code>with</code> in your code. If doing so is not possible, you can temporarily use the <code>deprecatedImportAssert</code> parser plugin.</p>
</li>
<li>
<p>Remove the <code>importReflection</code> parser plugin (<a href=https://github.com/babel/babel/pull/16808 target=_blank rel="noopener noreferrer">#16808</a>)</p>
<p>The "import reflection" proposal does not exist anymore, and it was superseeded by the "source phase imports" proposal, which uses the <code>source</code> modifier for imports instead of <code>module</code>.</p>
<p><strong>Migration</strong>: Replace the plugin with <code>sourcePhaseImports</code>, and migrate your code to use <code>source</code> instead of <code>module</code> in import declarations.</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>example.js</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829> import module x from "foo";</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00> import source x from "foo";</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
</ul>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg alt=low class=img_ev3q></p>
<ul>
<li>
<p><a href=https://github.com/babel/babel/issues/8604 target=_blank rel="noopener noreferrer">Disallow sequence expressions inside JSX attributes</a> (<a href=https://github.com/babel/babel/pull/12447 target=_blank rel="noopener noreferrer">#12447</a>)</p>
<p><strong>Migration</strong>: Find and replace the following code patterns. You can start the migration prior to Babel 8:</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>input.jsx</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829> &lt;p key={foo, bar}>&lt;/p> // Invalid</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00> &lt;p key={(foo, bar)}>&lt;/p> // Valid</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
<li>
<p><a href=https://github.com/babel/babel/issues/11042 target=_blank rel="noopener noreferrer">Disallow <code>{</code>, <code>}</code>, <code>&lt;</code> and <code>></code> in JSX text</a> (<a href=https://github.com/babel/babel/pull/12451 target=_blank rel="noopener noreferrer">#12451</a>)</p>
<p><strong>Migration</strong>: Use <code>{'{'}</code>, <code>{'}'}</code>, <code>{'&lt;'}</code> and <code>{'>'}</code> instead. Find and replace the following code patterns. You can start the migration prior to Babel 8:</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>input.jsx</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829> &lt;p>">" is greater than.&lt;/p></span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00> &lt;p>"{'>'}" is greater than.&lt;/p></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>Notes</strong>: This is technically a spec compliance fix because the <a href=https://facebook.github.io/jsx/#prod-JSXTextCharacter target=_blank rel="noopener noreferrer">JSX specification</a> already forbids them. However, we have chosen to postpone it until Babel 8 because it could break someone's code.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-generator><code>@babel/generator</code><a href=#babel-generator class=hash-link aria-label="Direct link to babel-generator" title="Direct link to babel-generator">​</a></h3>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg alt=medium class=img_ev3q></p>
<ul>
<li>
<p>Remove the <code>jsonCompatibleStrings</code> option (<a href=https://github.com/babel/babel/issues/9943 target=_blank rel="noopener noreferrer">#9943</a>, <a href=https://github.com/babel/babel/pull/12477 target=_blank rel="noopener noreferrer">#12477</a>)</p>
<p><strong>Migration</strong>: <code>@babel/generator</code> allows to specify options for <a href=https://github.com/mathiasbynens/jsesc target=_blank rel="noopener noreferrer">jsesc</a>, a library used to escape printed values. If you are using the <code>jsonCompatibleStrings</code> option, you can replace it with <code>jsescOption: { json: true }</code>.</p>
</li>
</ul>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg alt=low class=img_ev3q></p>
<ul>
<li>
<p>Output non-ASCII characters as-is in string literals (<a href=https://github.com/babel/babel/pull/12675 target=_blank rel="noopener noreferrer">#12675</a>)</p>
<p>If you are using any one of <code>@babel/cli</code>, webpack, Rollup, or other Node.js powered bundlers, the transformed code is always encoded with <code>utf-8</code> and your app will not be affected. The issue only affects if you are manually calling the <code>babel.transform</code> API and your web server is not serving js files in the <code>utf8</code> encoding.</p>
<p><strong>Migration</strong>: Ensure your server is always serving js files in the <code>utf8</code> encoding. If you can not control the server output, specify the <code>charset</code> attribute of the <code>script</code> tag in the html files.</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-html codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token tag punctuation" style=color:#c82829>&lt;</span><span class="token tag" style=color:#c82829>script</span><span class="token tag" style=color:#c82829> </span><span class="token tag attr-name" style=color:#4271ae>charset</span><span class="token tag attr-value punctuation attr-equals" style=color:#f5871f>=</span><span class="token tag attr-value punctuation" style=color:#f5871f>"</span><span class="token tag attr-value" style=color:#f5871f>utf-8</span><span class="token tag attr-value punctuation" style=color:#f5871f>"</span><span class="token tag" style=color:#c82829> </span><span class="token tag attr-name" style=color:#4271ae>src</span><span class="token tag attr-value punctuation attr-equals" style=color:#f5871f>=</span><span class="token tag attr-value punctuation" style=color:#f5871f>"</span><span class="token tag attr-value" style=color:#f5871f>your-app.js</span><span class="token tag attr-value punctuation" style=color:#f5871f>"</span><span class="token tag punctuation" style=color:#c82829>></span><span class="token script"></span><span class="token tag punctuation" style=color:#c82829>&lt;/</span><span class="token tag" style=color:#c82829>script</span><span class="token tag punctuation" style=color:#c82829>></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>You can also restore to the Babel 7 behaviour by setting</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>babel.config.js</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-js codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token literal-property property">generatorOpts</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token literal-property property">jsescOption</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">      </span><span class="token literal-property property">minimal</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style=color:#f5871f>false</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-preset-env><code>@babel/preset-env</code><a href=#babel-preset-env class=hash-link aria-label="Direct link to babel-preset-env" title="Direct link to babel-preset-env">​</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p><code>@babel/preset-env</code>'s <code>targets</code> option inherits its behavior from the top-level <code>targets</code> option, so make sure to check the <a href=#babel-core>@babel/core</a> section.</div></div>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-high-red.svg alt=high class=img_ev3q></p>
<ul>
<li>
<p>The <code>loose</code> and <code>spec</code> options have been removed (<a href=https://github.com/babel/babel/pull/16043 target=_blank rel="noopener noreferrer">#16043</a>)</p>
<p><strong>Migration</strong>: You can use the <a href=https://babeljs.io/docs/assumptions target=_blank rel="noopener noreferrer"><code>assumptions</code></a> top-level option instead. See <a href=https://babeljs.io/docs/assumptions#migrating-from-babelpreset-envs-loose-and-spec-modes target=_blank rel="noopener noreferrer">"Migrating from @babel/preset-env's "loose" and "spec" modes"</a> for the ready-to-copy equivalent configuration.</p>
</li>
</ul>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg alt=medium class=img_ev3q></p>
<ul>
<li>
<p><code>includes</code> and <code>excludes</code> respect renamed package names (<a href=https://github.com/babel/babel/pull/15576 target=_blank rel="noopener noreferrer">#15576</a>)</p>
<p><strong>Migration</strong>: If <code>includes</code> or <code>excludes</code> contain any plugins mentioned in the <a href=/docs/v8-migration#renamed-packages>Packages Renames section</a>, change it to the new name. For example,</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>babel.config.json</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token plain">{</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> "presets": [[</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   "@babel/preset-env",</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   {</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829>     "includes": ["proposal-optional-chaining"]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>     "includes": ["transform-optional-chaining"]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   }</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> ]]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
</ul>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg alt=low class=img_ev3q></p>
<ul>
<li>
<p>Enable the <a href=/docs/babel-preset-env#bugfixes><code>bugfixes</code></a> option by default (<a href=https://github.com/babel/babel/pull/13866 target=_blank rel="noopener noreferrer">#13866</a>)</p>
<p><strong>Migration</strong>: You will probably be fine with the new behaviour as Babel now tries to compile the broken syntax to the closest <em>non-broken modern syntax</em> supported by your target browsers. If anyhow you want to restore the Babel 7 behaviour, you can specify <code>bugfixes: false</code>.</p>
</li>
<li>
<p>Removed syntax plugins can not be used in <code>includes</code> and <code>excludes</code> (<a href=https://github.com/babel/babel/pull/15810 target=_blank rel="noopener noreferrer">#15810</a>)</p>
<p><strong>Migration</strong>: You can safely remove them if you are using any of <a href=#syntax-plugins>syntax plugins listed above</a> in the <code>includes</code> and <code>excludes</code> options.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-preset-react><code>@babel/preset-react</code> and <code>@babel/plugin-transform-react-jsx</code><a href=#babel-preset-react class=hash-link aria-label="Direct link to babel-preset-react" title="Direct link to babel-preset-react">​</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p><code>@babel/parser</code> also includes some JSX-related breaking changes, so make sure to check the <a href=#babel-parser>@babel/parser</a> section.</div></div>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-high-red.svg alt=high class=img_ev3q></p>
<ul>
<li>
<p><a href=https://github.com/babel/babel/pull/11154#issuecomment-591188203 target=_blank rel="noopener noreferrer">Use the new JSX implementation by default</a> (<a href=https://github.com/babel/babel/pull/12630 target=_blank rel="noopener noreferrer">#12630</a>)</p>
<p><strong>Migration</strong>: If you are using a modern version of React or Preact, it should work without any configuration changes. Otherwise, you can pass the <a href=/docs/babel-preset-react#runtime><code>runtime: "classic"</code></a> option to <code>@babel/preset-react</code> or <code>@babel/plugin-transform-react-jsx</code> to be explicit about your usage of <code>createElement</code> (or the equivalent function in other libraries).</p>
</li>
<li>
<p>Make the <code>development</code> option default to the configured environment (<a href=https://github.com/babel/babel/pull/16927 target=_blank rel="noopener noreferrer">#16927</a>)</p>
<p>Note that Babel's environment, set through <a href=/docs/options#envname><code>envName</code> option</a>, defaults to
<code>process.env.BABEL_ENV || process.env.NODE_ENV || "development"</code>: if you don't specify neither the <code>envName</code> option
nor the <code>BABEL_ENV</code> or <code>NODE_ENV</code> environment variables, it will default to <code>development</code>.</p>
<p><strong>Migration</strong>: In production builds, set the <code>BABEL_ENV</code> or <code>NODE_ENV</code> environment variables, or the <code>envName</code> Babel
option, to <code>"production"</code>. If you want to run <em>only this preset</em> in production mode, then you can explicitly set the
<code>development</code> option to <code>false</code>.</p>
</li>
</ul>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg alt=medium class=img_ev3q></p>
<ul>
<li>
<p>Remove <code>useSpread</code> and <code>useBuiltIns</code> options (<a href=https://github.com/babel/babel/pull/12593 target=_blank rel="noopener noreferrer">#12593</a>)</p>
<p><strong>Migration</strong>: Babel 8 always compiles JSX spread elements to object spread:</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>input.jsx</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token tag punctuation" style=color:#c82829>&lt;</span><span class="token tag" style=color:#c82829>div</span><span class="token tag" style=color:#c82829> </span><span class="token tag spread punctuation" style=color:#c82829>{</span><span class="token tag spread operator" style=color:#c82829>...</span><span class="token tag spread" style=color:#c82829>props</span><span class="token tag spread punctuation" style=color:#c82829>}</span><span class="token tag punctuation" style=color:#c82829>></span><span class="token tag punctuation" style=color:#c82829>&lt;/</span><span class="token tag" style=color:#c82829>div</span><span class="token tag punctuation" style=color:#c82829>></span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token comment" style=color:#8e908c>// transforms to</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token function" style=color:#4271ae>jsx</span><span class="token punctuation">(</span><span class="token string" style=color:#718c00>"div"</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> </span><span class="token spread operator">...</span><span class="token plain">props </span><span class="token punctuation">}</span><span class="token punctuation">)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>If your app targets to modern browsers released after 2019, you can safely remove these options as object spread has less code footprint.</p>
<p>If your code needs to run in an environment which doesn't support object spread, you can either use <code>@babel/preset-env</code> (recommended) or <code>@babel/plugin-transform-object-rest-spread</code>. If you want to transpile <code>Object.assign</code> down, you also need to enable <code>@babel/plugin-transform-object-assign</code>.</p>
<p>In Babel 7.7.0, you can opt into the Babel 8 behavior by using the <code>useSpread: true</code> option.</p>
</li>
<li>
<p>Type check input options (<a href=https://github.com/babel/babel/pull/12460 target=_blank rel="noopener noreferrer">#12460</a>)</p>
<p><strong>Migration</strong>: The preset will also report invalid option names. Refer to the <a href=/docs/babel-preset-react#options>docs</a> and ensure valid usage.</p>
</li>
</ul>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg alt=low class=img_ev3q></p>
<ul>
<li>
<p>Disallow <code>filter</code> option in automatic runtime (<a href=https://github.com/babel/babel/pull/15068/commits/e2dd3be6e38b0254bc69a8e52c265214235829c6 target=_blank rel="noopener noreferrer">#15068</a>)</p>
<p><strong>Migration</strong>: The <code>filter</code> option can only be used with the <code>classic</code> runtime. If you have switched to <code>automatic</code> runtime, you can safely remove this option. Otherwise please specify <code>runtime: "classic"</code>.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-preset-typescript><code>@babel/preset-typescript</code><a href=#babel-preset-typescript class=hash-link aria-label="Direct link to babel-preset-typescript" title="Direct link to babel-preset-typescript">​</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>Make sure to also check the <a href=#babel-plugin-transform-typescript>@babel/plugin-transform-typescript</a> changes changes, since it's what this preset uses under the hood.</div></div>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-high-red.svg alt=high class=img_ev3q></p>
<ul>
<li>
<p>Remove <code>isTSX</code> and <code>allExtensions</code> options (<a href=https://github.com/babel/babel/pull/14955 target=_blank rel="noopener noreferrer">#14955</a>)</p>
<p><strong>Migration</strong>:</p>
<ul>
<li>
<p><code>isTSX: true</code> and <code>allExtensions: true</code></p>
<p>If you are already using <code>@babel/preset-react</code>, <code>@babel/plugin-transform-react-jsx</code> or any other third-party jsx presets such as <code>@vue/babel-preset-jsx</code>, and you want to transpile <code>.tsx</code> files, you can safely remove these two options. Babel 8 will automatically handle <code>.tsx</code> files using this preset and the other JSX plugin.</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>babel.config.json</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token plain">{</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> "presets": [</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   ["@babel/preset-react", { "runtime": "automatic" }],</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829>   ["@babel/preset-typescript", { "allExtensions": true, "isTSX": true }]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>   ["@babel/preset-typescript"]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> ]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>If you want to transpile files other than <code>.tsx</code>, such as <code>.vue</code>, use <code>ignoreExtensions: true</code>:</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>babel.config.js</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token plain">{</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> overrides: [{</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   include: /\.vue$/,</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   presets: [</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     ['@babel/preset-typescript', {</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829>       allExtensions: true, isTSX: true</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>       ignoreExtensions: true</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     }]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   ]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> }]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>If you want to preserve the JSX format but transpile the TypeScript part, use <code>ignoreExtensions: true</code> and enable the <a href=/docs/babel-plugin-syntax-jsx><code>@babel/plugin-syntax-jsx</code></a> plugin.</p>
</li>
<li>
<p><code>isTSX: false</code> and <code>allExtensions: true</code></p>
<p>Use <code>ignoreExtensions: true</code>, see the example above.</p>
</li>
<li>
<p><code>isTSX: false</code> and <code>allExtensions: false</code></p>
<p>You can safely remove them.</p>
</li>
</ul>
</li>
</ul>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg alt=medium class=img_ev3q></p>
<ul>
<li>
<p>Remove <code>allowDeclareFields</code> option (<a href=https://github.com/babel/babel/pull/12461 target=_blank rel="noopener noreferrer">#12461</a>)</p>
<p><strong>Migration</strong>: Remove the option from your config, since it's now enabled by default.</p>
</li>
<li>
<p>Type check input options (<a href=https://github.com/babel/babel/pull/12460 target=_blank rel="noopener noreferrer">#12460</a>)</p>
<p><strong>Migration</strong>: The preset will also report invalid option names. Refer to the <a href=/docs/babel-preset-typescript#options>docs</a> and ensure valid usage. For example, <code>runtime</code> is not a valid <code>preset-typescript</code> option and thus should be removed.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-plugin-transform-typescript><code>@babel/plugin-transform-typescript</code><a href=#babel-plugin-transform-typescript class=hash-link aria-label="Direct link to babel-plugin-transform-typescript" title="Direct link to babel-plugin-transform-typescript">​</a></h3>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-high-red.svg alt=high class=img_ev3q></p>
<ul>
<li>
<p><a href=https://github.com/babel/babel/issues/10039 target=_blank rel="noopener noreferrer">Preserve uninitialized class fields</a> (<a href=https://github.com/babel/babel/pull/12461 target=_blank rel="noopener noreferrer">#12461</a>)</p>
<p><strong>Migration</strong>: If you don't want fields to be initialized to <code>undefined</code> use the <code>declare</code> syntax, introduced in TypeScript 3.7:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>input.ts</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>class</span><span class="token plain"> </span><span class="token class-name constant" style=color:#f5871f>A</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  foo</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style=color:#f5871f>string</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token keyword" style=color:#8959a8>void</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// initialized to undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword" style=color:#8959a8>declare</span><span class="token plain"> bar</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style=color:#f5871f>number</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// type-only, will be removed</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
</ul>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg alt=medium class=img_ev3q></p>
<ul>
<li>
<p>Remove <code>allowDeclareFields</code> option (<a href=https://github.com/babel/babel/pull/12461 target=_blank rel="noopener noreferrer">#12461</a>)</p>
<p><strong>Migration</strong>: Remove the option from your config, since it's now enabled by default.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-plugin-syntax-typescript><code>@babel/plugin-syntax-typescript</code><a href=#babel-plugin-syntax-typescript class=hash-link aria-label="Direct link to babel-plugin-syntax-typescript" title="Direct link to babel-plugin-syntax-typescript">​</a></h3>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-high-red.svg alt=high class=img_ev3q></p>
<ul>
<li>
<p>Remove <code>isTSX</code> option (<a href=https://github.com/babel/babel/pull/14955 target=_blank rel="noopener noreferrer">#14955</a>)</p>
<p><strong>Migration</strong>: If you are using <code>isTSX: true</code>, remove this option and enable the <a href=/docs/babel-plugin-syntax-jsx><code>@babel/plugin-syntax-jsx</code></a> plugin:</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token plain">{</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> "plugins": [</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829>   ["@babel/plugin-syntax-typescript", { "isTSX": true }]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>   "@babel/plugin-syntax-typescript",</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>   "@babel/plugin-syntax-jsx"</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> ]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>If you are using <code>isTSX: false</code>, you can safely remove it.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-preset-flow><code>@babel/preset-flow</code><a href=#babel-preset-flow class=hash-link aria-label="Direct link to babel-preset-flow" title="Direct link to babel-preset-flow">​</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>Make sure to also check the <a href=#babel-plugin-transform-flow-strip-types>@babel/plugin-transform-flow-strip-types</a> changes, since it's what this preset uses under the hood.</div></div>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg alt=medium class=img_ev3q></p>
<ul>
<li>
<p>Type check input options (<a href=https://github.com/babel/babel/pull/12460 target=_blank rel="noopener noreferrer">#12460</a>)</p>
<p><strong>Migration</strong>: The preset will also report invalid option names. Refer to the <a href=/docs/babel-preset-flow#options>docs</a> and ensure valid usage.</p>
</li>
<li>
<p>Remove the <code>allowDeclareFields</code> and <code>enums</code> options (<a href=https://github.com/babel/babel/pull/12457 target=_blank rel="noopener noreferrer">#12457</a>, <a href=https://github.com/babel/babel/pull/16792 target=_blank rel="noopener noreferrer">#16792</a>)</p>
<p><strong>Migration</strong>: Remove these options from your config, since they are now enabled by default.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-plugin-transform-flow-strip-types><code>@babel/plugin-transform-flow-strip-types</code><a href=#babel-plugin-transform-flow-strip-types class=hash-link aria-label="Direct link to babel-plugin-transform-flow-strip-types" title="Direct link to babel-plugin-transform-flow-strip-types">​</a></h3>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-high-red.svg alt=high class=img_ev3q></p>
<ul>
<li>
<p><a href=https://github.com/babel/babel/issues/10039 target=_blank rel="noopener noreferrer">Preserve uninitialized class fields</a> (<a href=https://github.com/babel/babel/pull/12457 target=_blank rel="noopener noreferrer">#12457</a>)</p>
<p><strong>Migration</strong>:
Use the new <code>declare</code> syntax, introduced in Flow 0.120, if you don't want fields to be initialized to <code>undefined</code>:</p>
<div class="language-flow codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>input.js</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-flow codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token keyword" style=color:#8959a8>class</span><span class="token plain"> </span><span class="token class-name" style=color:#eab700>A</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token literal-property property">foo</span><span class="token operator">:</span><span class="token plain"> </span><span class="token type class-name" style=color:#eab700>string</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token type class-name" style=color:#eab700>void</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// initialized to undefined</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token keyword" style=color:#8959a8>declare</span><span class="token plain"> </span><span class="token literal-property property">bar</span><span class="token operator">:</span><span class="token plain"> </span><span class="token type class-name" style=color:#eab700>number</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment" style=color:#8e908c>// type-only, will be removed</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
</ul>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg alt=medium class=img_ev3q></p>
<ul>
<li>
<p>Remove the <code>allowDeclareFields</code> and <code>enums</code> options (<a href=https://github.com/babel/babel/pull/12457 target=_blank rel="noopener noreferrer">#12457</a>, <a href=https://github.com/babel/babel/pull/16792 target=_blank rel="noopener noreferrer">#16792</a>)</p>
<p><strong>Migration</strong>: Remove these options from your config, since they are now enabled by default.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-plugin-transform-runtime><code>@babel/plugin-transform-runtime</code><a href=#babel-plugin-transform-runtime class=hash-link aria-label="Direct link to babel-plugin-transform-runtime" title="Direct link to babel-plugin-transform-runtime">​</a></h3>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-high-red.svg alt=high class=img_ev3q></p>
<ul>
<li>
<p>The <code>corejs</code> option has been removed (<a href=https://github.com/babel/babel/pull/16311 target=_blank rel="noopener noreferrer">#16311</a>)</p>
<p><strong>Migration</strong>: To inject polyfills, you can use <a href=https://github.com/babel/babel-polyfills/blob/main/packages/babel-plugin-polyfill-corejs3/README.md target=_blank rel="noopener noreferrer"><code>babel-plugin-polyfill-corejs3</code></a> or the deprecated <a href=https://github.com/babel/babel-polyfills/blob/main/packages/babel-plugin-polyfill-corejs2/README.md target=_blank rel="noopener noreferrer"><code>babel-plugin-polyfill-corejs2</code></a> directly.</p>
</li>
</ul>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg alt=low class=img_ev3q></p>
<ul>
<li>
<p>The <code>useESModules</code> option has been removed (<a href=https://github.com/babel/babel/pull/16141 target=_blank rel="noopener noreferrer">#16141</a>)</p>
<p><strong>Migration</strong>: Delete it from your configuration. <code>@babel/runtime</code> will now automatically expose ES modules when needed, using <code>package.json#exports</code>.</p>
</li>
<li>
<p>The <code>runtime</code> and <code>helpers</code> options have been removed (<a href=https://github.com/babel/babel/pull/16311 target=_blank rel="noopener noreferrer">#16311</a>)</p>
<p><strong>Migration</strong>: Delete them from your configuration: <code>@babel/runtime</code> will now always import helpers. If you don't want to inject imports to helpers, remove <code>@babel/plugin-transform-runtime</code> from your config.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-plugin-transform-modules-systemjs><code>@babel/plugin-transform-modules-systemjs</code><a href=#babel-plugin-transform-modules-systemjs class=hash-link aria-label="Direct link to babel-plugin-transform-modules-systemjs" title="Direct link to babel-plugin-transform-modules-systemjs">​</a></h3>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg alt=medium class=img_ev3q></p>
<ul>
<li>
<p><a href=https://github.com/babel/babel/blob/78cd63d9cfcd96e6a151c58fed392c3ee757d861/packages/babel-plugin-transform-modules-systemjs/src/index.js#L183-L185 target=_blank rel="noopener noreferrer">Require <code>@babel/plugin-transform-dynamic-import</code> when transforming <code>import()</code> to SystemJS</a> (<a href=https://github.com/babel/babel/pull/12700 target=_blank rel="noopener noreferrer">#12700</a>)</p>
<p><strong>Migration</strong>: Add <code>@babel/plugin-transform-dynamic-import</code> to your config: you can already do it in Babel 7. If you are using <code>@babel/preset-env</code>, you don't need to do anything.</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>babel.config.js.diff</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token plain">{</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> "plugins": [</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>   "@babel/plugin-transform-dynamic-import",</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   "@babel/plugin-transform-modules-systemjs",</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> ]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>Notes</strong>: All the other plugins which support dynamic import (<code>transform-modules-commonjs</code> and <code>transform-modules-amd</code>) require the separate plugin since it was introduced. We couldn't change it for <code>transform-modules-systemjs</code> because that package did already support dynamic import.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-plugin-transform-regenerator><code>@babel/plugin-transform-regenerator</code><a href=#babel-plugin-transform-regenerator class=hash-link aria-label="Direct link to babel-plugin-transform-regenerator" title="Direct link to babel-plugin-transform-regenerator">​</a></h3>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg alt=low class=img_ev3q></p>
<ul>
<li>
<p>Do not replace global <code>regeneratorRuntime</code> references (<a href=https://github.com/babel/babel/pull/17237 target=_blank rel="noopener noreferrer">#17237</a>)</p>
<p>Babel 7 used to replace references to a <code>regeneratorRuntime</code> global with Babel's <code>regeneratorRuntime</code> helper:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>input.js</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-js codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token console class-name" style=color:#eab700>console</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>log</span><span class="token punctuation">(</span><span class="token plain">regeneratorRuntime</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>isGeneratorFunction</span><span class="token punctuation">(</span><span class="token plain">fn</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>output.js</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-js codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token keyword module" style=color:#8959a8>import</span><span class="token plain"> </span><span class="token imports">_regeneratorRuntime</span><span class="token plain"> </span><span class="token keyword module" style=color:#8959a8>from</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"@babel/runtime/regenerator"</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token console class-name" style=color:#eab700>console</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>log</span><span class="token punctuation">(</span><span class="token plain">_regeneratorRuntime</span><span class="token punctuation">.</span><span class="token method function property-access" style=color:#4271ae>isGeneratorFunction</span><span class="token punctuation">(</span><span class="token plain">fn</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This doesn't happen anymore in Babel 8.</p>
<p><strong>Migration</strong>: The recommended approach is to update your code to not rely on a non-existent <code>regeneratorRuntime</code> global. If that's not possible, you can either import the unmaintained <a href=https://www.npmjs.com/package/regenerator-runtime target=_blank rel="noopener noreferrer"><code>regenerator-runtime</code></a> package in your application entrypoint, which will define the <code>regeneratorRuntime</code> global, or use <a href=https://github.com/babel/babel-polyfills/blob/main/packages/babel-plugin-polyfill-regenerator/README.md target=_blank rel="noopener noreferrer"><code>babel-plugin-polyfill-regenerator</code></a> to automatically inject that import for you.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-plugin-proposal-decorators><code>@babel/plugin-proposal-decorators</code><a href=#babel-plugin-proposal-decorators class=hash-link aria-label="Direct link to babel-plugin-proposal-decorators" title="Direct link to babel-plugin-proposal-decorators">​</a></h3>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg alt=medium class=img_ev3q></p>
<ul>
<li>
<p>Only support the <code>legacy</code> and <code>2023-11</code> versions of the proposal. In addition to that, the plugin now requires a <a href=/docs/babel-plugin-proposal-decorators#version><code>version</code></a> option (<a href=https://github.com/babel/babel/pull/12712 target=_blank rel="noopener noreferrer">#12712</a>, <a href=https://github.com/babel/babel/pull/15676 target=_blank rel="noopener noreferrer">#15676</a>)</p>
<p><strong>Migration</strong>: You should migrate to the <a href=https://github.com/tc39/proposal-decorators/ target=_blank rel="noopener noreferrer">latest version of the proposal</a>, <code>"2023-11"</code>.</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>babel.config.json</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token plain">{</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> "plugins": [</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   ["@babel/plugin-proposal-decorators", {</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829>     "decoratorsBeforeExport": true,</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829>     "version": "2018-09",</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>     "version": "2023-11"</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   }]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> ]</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The syntax is the same, but you will need to rewrite your decorator functions. The spec repo provides <a href=https://github.com/tc39/proposal-decorators#comparison-with-the-previous-stage-2-decorators-proposal target=_blank rel="noopener noreferrer">comparison between the latest version and the <code>2018-09</code> version</a>. You can already migrate since Babel 7.22.0, using the <code>"version": "2023-11"</code> option of <code>@babel/plugin-proposal-decorators</code>.</p>
<p>Although Babel 8 still supports the <code>legacy</code> version, it is advisable to migrate to the <code>2023-11</code> version regardless: both Babel 8 and TypeScript 5.0 support the <code>2023-11</code> version, while there are <a href=https://github.com/babel/babel/issues/8864#issuecomment-688535867 target=_blank rel="noopener noreferrer">a few behaviour differences</a> in the <code>legacy</code> version between Babel and <code>tsc</code>'s implementation. Browsers will only implement the latest version of the proposal.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-eslint-parser><code>@babel/eslint-parser</code><a href=#babel-eslint-parser class=hash-link aria-label="Direct link to babel-eslint-parser" title="Direct link to babel-eslint-parser">​</a></h3>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-medium-yellow.svg alt=medium class=img_ev3q></p>
<ul>
<li>
<p>Remove <code>allowImportExportEverywhere</code> option (<a href=https://github.com/babel/babel/pull/13921 target=_blank rel="noopener noreferrer">#13921</a>)</p>
<p><strong>Migration</strong>: Use <code>babelOptions.parserOpts.allowImportExportEverywhere</code> instead.</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>.eslintrc</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token plain">{</span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> "parser": "@babel/eslint-parser",</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> "parserOptions": {</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style=color:#c82829>-</span><span class="token deleted-sign deleted line" style=color:#c82829>   "allowImportExportEverywhere": true,</span><br></span><span class=token-line style=color:#4d4d4c><span class="token deleted-sign deleted line" style=color:#c82829></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>   "babelOptions": {</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>     "parserOpts": {</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>       "allowImportExportEverywhere": true</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>     }</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token inserted-sign inserted prefix inserted" style=color:#718c00>+</span><span class="token inserted-sign inserted line" style=color:#718c00>   }</span><br></span><span class=token-line style=color:#4d4d4c><span class="token inserted-sign inserted line" style=color:#718c00></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> }</span><br></span><span class=token-line style=color:#4d4d4c><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
</ul>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg alt=low class=img_ev3q></p>
<ul>
<li>
<p><code>parserOpts.allowSuperOutsideMethod</code> defaults to <code>false</code> (<a href=https://github.com/babel/babel/pull/13921 target=_blank rel="noopener noreferrer">#13921</a>)</p>
<p><strong>Migration</strong>: If you want to restore to Babel 7 behaviour, set <code>babelOptions.parserOpts.allowSuperOutsideMethod</code> to <code>true</code>.</p>
</li>
<li>
<p><code>allowReturnOutsideFunction</code> is inferred from <code>ecmaFeatures.globalReturn</code> (<a href=https://github.com/babel/babel/pull/13921 target=_blank rel="noopener noreferrer">#13921</a>)</p>
<p><strong>Migration</strong>: If you want to enable <code>allowReturnOutsideFunction</code>, set <a href=https://eslint.org/docs/latest/use/configure/language-options#specifying-parser-options target=_blank rel="noopener noreferrer"><code>ecmaFeatures.globalReturn</code></a> to <code>true</code>.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockTitle_Ktv7>.eslintrc</div><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token property">"parser"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style=color:#718c00>"@babel/eslint-parser"</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token property">"parserOptions"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token property">"ecmaFeatures"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">      </span><span class="token property">"globalReturn"</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean" style=color:#f5871f>true</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#4d4d4c><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=babel-node><code>@babel/node</code><a href=#babel-node class=hash-link aria-label="Direct link to babel-node" title="Direct link to babel-node">​</a></h3>
<p><img decoding=async loading=lazy src=https://img.shields.io/badge/risk%20of%20breakage%3F-low-yellowgreen.svg alt=low class=img_ev3q></p>
<ul>
<li>
<p>The <code>-gc</code> and <code>-d</code> command-line flags have been removed (<a href=https://github.com/babel/babel/pull/15956 target=_blank rel="noopener noreferrer">#15956</a>)
<strong>Migration</strong>: Use the <code>--expose-gc</code> and <code>--inspect</code> Node.js flags respectively. Note that although <code>-d</code> was short for <code>--debug</code>, the latter has been <a href=https://nodejs.org/en/docs/guides/debugging-getting-started#legacy-debugger target=_blank rel="noopener noreferrer">deprecated since Node.js 7.7.0</a>.</p>
</li>
<li>
<p>Command-line flags for Node.js and Babel must now be passed <em>before</em> the filename, while flags for the script itself must be passed after. (<a href=https://github.com/babel/babel/pull/16706 target=_blank rel="noopener noreferrer">#16706</a>):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#4d4d4c;--prism-background-color:#fdfaeb><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#4d4d4c;background-color:#fdfaeb><code class=codeBlockLines_e6Vv><span class=token-line style=color:#4d4d4c><span class="token plain">babel-node --flag-for-node --flag-for-babel script.js --flag-for-script</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/babel/website/edit/main/docs/../docs/v8-migration.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#getting-ready class="table-of-contents__link toc-highlight">Getting ready</a><li><a href=#all-of-babel class="table-of-contents__link toc-highlight">All of Babel</a><ul><li><a href=#nodejs-support class="table-of-contents__link toc-highlight">Node.js support</a><li><a href=#esm-only class="table-of-contents__link toc-highlight">ESM only</a><li><a href=#peer-dependency-requirements class="table-of-contents__link toc-highlight">Peer dependency requirements</a></ul><li><a href=#renamed-packages class="table-of-contents__link toc-highlight">Renamed Packages</a><li><a href=#discontinued-packages class="table-of-contents__link toc-highlight">Discontinued Packages</a><ul><li><a href=#babel-runtime-corejs2 class="table-of-contents__link toc-highlight"><code>@babel/runtime-corejs2</code></a><li><a href=#babel-plugin-syntax-import-assertions class="table-of-contents__link toc-highlight"><code>@babel/plugin-syntax-import-assertions</code></a><li><a href=#babel-plugin-proposal-record-and-tuple class="table-of-contents__link toc-highlight"><code>@babel/plugin-proposal-record-and-tuple</code></a><li><a href=#syntax-plugins class="table-of-contents__link toc-highlight">Syntax plugins</a></ul><li><a href=#per-package-breaking-changes class="table-of-contents__link toc-highlight">Per-package breaking changes</a><ul><li><a href=#babel-core class="table-of-contents__link toc-highlight"><code>@babel/core</code></a><li><a href=#babel-parser class="table-of-contents__link toc-highlight"><code>@babel/parser</code></a><li><a href=#babel-generator class="table-of-contents__link toc-highlight"><code>@babel/generator</code></a><li><a href=#babel-preset-env class="table-of-contents__link toc-highlight"><code>@babel/preset-env</code></a><li><a href=#babel-preset-react class="table-of-contents__link toc-highlight"><code>@babel/preset-react</code> and <code>@babel/plugin-transform-react-jsx</code></a><li><a href=#babel-preset-typescript class="table-of-contents__link toc-highlight"><code>@babel/preset-typescript</code></a><li><a href=#babel-plugin-transform-typescript class="table-of-contents__link toc-highlight"><code>@babel/plugin-transform-typescript</code></a><li><a href=#babel-plugin-syntax-typescript class="table-of-contents__link toc-highlight"><code>@babel/plugin-syntax-typescript</code></a><li><a href=#babel-preset-flow class="table-of-contents__link toc-highlight"><code>@babel/preset-flow</code></a><li><a href=#babel-plugin-transform-flow-strip-types class="table-of-contents__link toc-highlight"><code>@babel/plugin-transform-flow-strip-types</code></a><li><a href=#babel-plugin-transform-runtime class="table-of-contents__link toc-highlight"><code>@babel/plugin-transform-runtime</code></a><li><a href=#babel-plugin-transform-modules-systemjs class="table-of-contents__link toc-highlight"><code>@babel/plugin-transform-modules-systemjs</code></a><li><a href=#babel-plugin-transform-regenerator class="table-of-contents__link toc-highlight"><code>@babel/plugin-transform-regenerator</code></a><li><a href=#babel-plugin-proposal-decorators class="table-of-contents__link toc-highlight"><code>@babel/plugin-proposal-decorators</code></a><li><a href=#babel-eslint-parser class="table-of-contents__link toc-highlight"><code>@babel/eslint-parser</code></a><li><a href=#babel-node class="table-of-contents__link toc-highlight"><code>@babel/node</code></a></ul></ul></div></div></div></div></main></div></div></div><footer class=nav-footer id=footer><section class=sitemap><a class=nav-home href=/><img src=https://d33wubrfki0l68.cloudfront.net/7a197cfe44548cc1a3f581152af70a3051e11671/78df8/img/babel.svg alt=Babel width=66 height=58></a><div><h5>Docs</h5><a href=/docs/learn>Learn ES2015</a></div><div><h5>Community</h5><a href=/videos>Videos</a><a href=/users>User Showcase</a><a href=http://stackoverflow.com/questions/tagged/babeljs target=_blank rel="noopener noreferrer">Stack Overflow</a><a href=https://babeljs.slack.com/ target=_blank rel="noopener noreferrer">Slack Channel</a><a href=https://x.com/babeljs target=_blank rel="noopener noreferrer">X (Twitter)</a><a href=https://bsky.app/profile/babel.dev target=_blank rel="noopener noreferrer">Bluesky</a></div><div><h5>More</h5><a href=/blog>Blog</a><a href=https://github.com/babel target=_blank rel="noopener noreferrer">GitHub Org</a><a href=https://github.com/babel/babel target=_blank rel="noopener noreferrer">GitHub Repo</a><a href=https://github.com/babel/website target=_blank rel="noopener noreferrer">Website Repo</a><a href=https://old.babeljs.io target=_blank rel="noopener noreferrer">Old 6.x Site</a><a href=http://henryzoo.com/babel.github.io target=_blank rel="noopener noreferrer">Old 5.x Site</a></div></section></footer></div>